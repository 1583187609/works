import{M as e,bO as a,bI as t,aa as l,aK as s,aM as o,aR as p,aE as r,u as n,I as i,bx as d,H as m,F as c,aP as u,s as y,t as b,b3 as f,bc as _,af as g,cT as h,cU as x,bN as v,cS as w,bH as B}from"./index-f41eb58a.js";import{f as k}from"./auth-aa819899.js";import{_ as I}from"./AddEdit.vue_vue_type_script_setup_true_lang-ce224307.js";import{I as T,A as q,u as M}from"./AuthInfo-3c240694.js";const R={class:"page-view three f-sb-s"},j={key:0,class:"f-c-c-c"},E={key:1},N=B(e({__name:"index",setup(e){const{getOpts:B,getText:N}=a(),U=t(),{type:z}=U.query,A="simple"===z,{getSearchOpts:C}=M(),P=B("UserType"),S=B("Enable"),L=l("openPopup");let O=s({xm:"张三",dbq:[0],date:["2023-08-19","2023-08-27"],date_min:"2023-07-19",date_max:"2023-07-27",min_num:1,max_num:2,num_def:[10,20]});const V=o([{prop:"xm",label:"姓名"},{prop:"qyzt",label:"启用状态",type:"select",options:S},{prop:"dbq",label:"多标签",type:"select",options:P,attrs:{multiple:!0}},{prop:"times",label:"时间(数组)",type:"date-picker"},{prop:["date_min","date_max"],label:"时间(对象)",type:"date-picker"},{prop:"date",label:"时间(带值)",type:"date-picker"},{prop:["min_num","max_num"],label:"数字(对象)",type:"BaseNumberRange"},{prop:"numRange",label:"数字(数组)",type:"BaseNumberRange"},{prop:"num_def",label:"数字(默值)",type:"BaseNumberRange"},{prop:"liveCity",label:"级联",type:"cascader"},C("school",{prop:"schoolId",label:"学校",popover:"采用hooks封装复杂逻辑"}),C("company",{prop:"companyId",label:"公司",popover:"自定义选择下拉项"}),{prop:"zdy",label:"自定义",type:"custom",popover:"在搜索表单中一般几乎用不到自定义特性"}]),$=[{label:"内置自定义组件列",type:"UserInfo",attrs:{simple:A}},{prop:"form_col",label:"formatter列",minWidth:140,formatter:e=>"formatter格式化示例"},!A&&{prop:"info_complete",label:"非内置自定义组件列",width:170,type:"custom"},A?{prop:"is_proxy",label:"标签(自定义，simple可见)",width:220,type:"custom"}:{prop:"agentId",label:"标签(内置，非simple可见)",width:220,type:"BaseTag",attrs:{name:"Enable"}},!A&&{prop:"create_time",label:"时间（内置宽度）"},...A?[{type:"create",label:"创建时间（内置）"}]:[{type:"create",label:"创建时间（内置、单prop）",minWidth:200}],{prop:"status",label:"是否启用",type:"switch",attrs:{}},{type:"remark",label:"备注（内置）"}];function F(e,a,t,l,s){const o={add:()=>W(null,t),export:()=>function(e){w(e)}(s)};o[e]?o[e]():v.warning(`点击了${e}按钮`)}function H(e,a,t){const l={edit:()=>W(a,t),delete:()=>function(e,a){k({id:e}).then((e=>a()))}(a.id,t),forbid:()=>D(a.id,t),enable:()=>D(a.id,t)};l[e]?l[e]():v.warning(`点击了${e}按钮`)}async function W(e,a){e&&(e={xm:"李四",xb:2,nl:26,dhhm:"18483221518",jgnr:"这是警告内容"}),L(""+(e?"编辑":"新增"),{component:I,attrs:{data:e,refreshList:a}})}function D(e,a){k().then((e=>{a()}))}return(e,a)=>{const t=p("BaseTag"),l=p("BaseIcon"),s=p("el-tag"),o=p("BaseCrud");return r(),n("div",R,[i(o,{class:"f-3",modelValue:_(O),"onUpdate:modelValue":a[0]||(a[0]=e=>g(O)?O.value=e:O=e),cols:$,fields:V.value,fetch:_(k),extraBtns:["add","export",{name:"zdy",text:"自定义按钮",attrs:{type:"primary",icon:_(h)}}],groupBtns:["edit","delete",e=>e.$index%2==1?"forbid":"enable",{name:"view",to:e=>({name:"userDetail",query:{id:e.id}})}],onExtraBtn:F,onGroupBtn:H,colSpanAttrs:{xs:12,sm:12,md:12,lg:8,xl:6},handleParams:e=>_(x)(e,"liveCity"),compact:"",selection:""},{zdy:d((()=>[m("【这是自定义的搜索条件项】")])),info_complete:d((({row:e})=>[i(T,{data:e},null,8,["data"])])),info_status:d((({row:e})=>[m(" 这是自定义组件 - 信息状态 ")])),auth_info:d((({row:e})=>[i(q,{data:e},null,8,["data"])])),relation_tag:d((({row:e})=>[(r(!0),n(c,null,u(e.relationTag,((e,a)=>(r(),y(t,{name:"User",class:"mb-q",value:e.tagCode,key:a},null,8,["value"])))),128)),e.relationTag.length?b("",!0):(r(),n(c,{key:0},[m("-")],64))])),is_proxy:d((({row:e})=>[i(t,{name:"YesNo",value:0===e.agentId?1:0},null,8,["value"])])),business:d((({row:e})=>[1===e.vipLevel||e.rechargeMoney?(r(),n("div",j,[1===e.vipLevel?(r(),y(s,{key:0,type:"warning",effect:"dark"},{default:d((()=>[i(l,{name:"StarFilled"}),m(" 脱单特权 ")])),_:1})):b("",!0),e.rechargeMoney?(r(),n("div",E,"RMB充值："+f(e.rechargeMoney)+"元",1)):b("",!0)])):(r(),n(c,{key:1},[m("-")],64))])),_:1},8,["modelValue","fields","fetch","extraBtns","groupBtns","handleParams"])])}}}),[["__scopeId","data-v-63ff4016"]]);export{N as default};
