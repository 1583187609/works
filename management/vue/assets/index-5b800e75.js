import{M as L,bO as M,aa as V,bI as U,aK as z,aM as A,aR as f,aE as s,u as l,I as i,bx as r,H as d,F as h,aP as $,s as R,t as x,b3 as D,bc as c,af as F,cW as H,cS as W,cT as G,cQ as w,cR as K,bH as Q}from"./index-346f95fe.js";import{P as b}from"./user-7f5e5957.js";import{_ as Y}from"./AddEdit.vue_vue_type_script_setup_true_lang-78cdc08a.js";import{I as J,A as X,u as Z}from"./AuthInfo-0eaad93b.js";import{a as ee}from"./cascader-cbb71516.js";import{_ as te}from"./Index.vue_vue_type_script_setup_true_lang-89abe60a.js";import{_ as ae}from"./Index.vue_vue_type_script_setup_true_lang-1431453d.js";const oe={class:"page-view three f-sb-s"},se={key:0,class:"f-c-c-c"},re={key:1},ne=L({__name:"index",setup(le){const I={xm:"李四",xb:2,nl:26,dhhm:"18483221518",jgnr:"这是警告内容"},{getOpts:v,getText:pe}=M(),y=V("openPopup"),C=U(),{type:q}=C.query,p=q==="simple",{getSearchOpts:B}=Z(),N=v("User"),S=v("Enable");let m=z({xm:"张三",dbq:["new_user"],date:["2023-08-19","2023-08-27"],date_min:"2023-07-19",date_max:"2023-07-27",min_num:1,max_num:2,num_def:[10,20]});const T=A([{prop:"xm",label:"姓名"},{prop:"qyzt",label:"启用状态",type:"select",options:S},{prop:"dbq",label:"多标签",type:"select",options:N,attrs:{multiple:!0}},{prop:"times",label:"时间(数组)",type:"date-picker"},{prop:["date_min","date_max"],label:"时间(对象)",type:"date-picker"},{prop:"date",label:"时间(带值)",type:"date-picker"},{prop:["min_num","max_num"],label:"数字(对象)",type:"BaseNumberRange"},{prop:"numRange",label:"数字(数组)",type:"BaseNumberRange"},{prop:"num_def",label:"数字(默值)",type:"BaseNumberRange"},{prop:"liveCity",label:"级联",type:"cascader",options:ee("Region"),attrs:{filterable:!0}},B("school",{prop:"schoolId",label:"学校",popover:"采用hooks封装复杂逻辑"}),B("company",{prop:"companyId",label:"公司",popover:"自定义选择下拉项"}),{prop:"zdy",label:"自定义",type:"custom",popover:"在搜索表单中一般几乎用不到自定义特性"}]),E=[{label:"内置自定义组件列",type:"UserInfo",popover:"传递popover属性增加疑问小提示",attrs:{simple:p}},{prop:"form_col",label:"formatter列",minWidth:140,formatter(t){return"formatter格式化示例"}},!p&&{prop:"info_complete",label:"非内置自定义组件列",width:170,type:"custom"},p?{prop:"is_proxy",label:"标签(自定义，simple可见)",width:220,type:"custom"}:{prop:"agentId",label:"标签(内置，非simple可见)",width:220,type:"BaseTag",attrs:{name:"Enable"}},!p&&{prop:"sj",label:"时间（内置宽度）"},...p?[{type:"create",label:"创建时间（内置）"}]:[{prop:"createdAt",type:"create",label:"创建时间"}],{prop:"status",label:"是否启用",type:"switch",attrs:{}},{type:"remark",label:"备注（内置）"}];function O(t,o,a,n,g){w({add:()=>k(null,a),export:()=>K(g),dialog:()=>y("这是一个dialog列表示例",{component:te,attrs:{}}),drawer:()=>y("这是一个drawer表单示例",{component:ae,attrs:{}},"drawer")},t)}function P(t,o,a){const{id:n}=o;w({edit:()=>k(o,a),delete:()=>b({id:n}).then(()=>a()),forbid:()=>b({id:n,status:0}).then(()=>a()),enable:()=>b({id:n,status:1}).then(()=>a())},t)}async function k(t,o){t&&(t=I),y(`${t?"编辑":"新增"}`,{component:Y,attrs:{data:t,refreshList:o}})}return(t,o)=>{const a=f("BaseTag"),n=f("BaseIcon"),g=f("el-tag"),j=f("BaseCrud");return s(),l("div",oe,[i(j,{class:"f-3",modelValue:c(m),"onUpdate:modelValue":o[0]||(o[0]=e=>F(m)?m.value=e:m=e),cols:E,fields:T.value,fetch:c(b),extraBtns:["add","delete","import","export","enable","forbid","repeal","upload","download","pass","reject",{name:"dialog",text:"打开dialog列表",attrs:{type:"primary",icon:"Postcard"}},{name:"drawer",text:"打开drawer表单",attrs:{type:"primary",icon:c(H)}},{name:"view",text:"url跳转",to:"/user/detail?id=12",order:50,attrs:{icon:"Link"}},{name:"zdy",text:"自定义按钮",attrs:{type:"primary",icon:c(W)}}],groupBtns:(e,u)=>{const{id:_}=e;return u%2===0?["edit","delete","reject","repeal","pass","download","log","audit","reset",u%3===0?"forbid":"enable",{name:"view",text:"查看",to:`/user/detail?id=${_}`}]:["edit","audit","reject","delete","download","pass","repeal","reset","log",{name:"view",to:{name:"userDetail",query:{id:_}}}]},onExtraBtn:O,onGroupBtn:P,handleReq:e=>c(G)(e,["liveCity"]),isCompact:"",selection:""},{zdy:r(()=>[d("【这是自定义的搜索项】")]),info_complete:r(({row:e})=>[i(J,{data:e},null,8,["data"])]),info_status:r(({row:e})=>[d(" 这是自定义组件 - 信息状态 ")]),auth_info:r(({row:e})=>[i(X,{data:e},null,8,["data"])]),relation_tag:r(({row:e})=>[(s(!0),l(h,null,$(e.relationTag,(u,_)=>(s(),R(a,{name:"User",class:"mb-q",value:u.tagCode,key:_},null,8,["value"]))),128)),e.relationTag.length?x("",!0):(s(),l(h,{key:0},[d("-")],64))]),is_proxy:r(({row:e})=>[i(a,{name:"YesNo",value:e.agentId===0?1:0},null,8,["value"])]),business:r(({row:e})=>[e.vipLevel===1||e.rechargeMoney?(s(),l("div",se,[e.vipLevel===1?(s(),R(g,{key:0,type:"warning",effect:"dark"},{default:r(()=>[i(n,{name:"StarFilled"}),d(" 脱单特权 ")]),_:1})):x("",!0),e.rechargeMoney?(s(),l("div",re,"RMB充值："+D(e.rechargeMoney)+"元",1)):x("",!0)])):(s(),l(h,{key:1},[d("-")],64))]),_:1},8,["modelValue","fields","fetch","extraBtns","groupBtns","handleReq"])])}}});const be=Q(ne,[["__scopeId","data-v-fc659bb0"]]);export{be as default};
