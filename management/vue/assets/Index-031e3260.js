import{cg as N,cc as q,ch as j,c8 as Te,M as we,q as oe,aM as Be,s as i,bx as k,am as c,aR as m,aS as De,aE as l,I as B,bc as S,ap as O,ci as Ue,ao as $e,t as L,u as y,F as D,H as Y,b3 as F,bz as Ae,A as R,aP as U,cj as se,aQ as Pe,v as Ce,bZ as W,ck as Ie,c3 as re,cl as Se,cm as ne,bH as Fe}from"./index-0bf49a0e.js";import Re from"./GroupList-972cdf67.js";import"./AddDelBtn-3f012bb7.js";import"./_utils-9ecd71f9.js";var pe;const x=(pe=Te)==null?void 0:pe.form;N([{text:"今天",value:new Date},{text:"昨天",value:()=>{const d=new Date;return d.setTime(d.getTime()-3600*1e3*24),d}},{text:"一周内",value:()=>{const d=new Date;return d.setTime(d.getTime()-3600*1e3*24*7),d}}],x==null?void 0:x.defaultDateShortcuts,"alert");const Ne=N([{text:"近一周",value:()=>{const d=new Date,v=new Date;return v.setTime(v.getTime()-3600*1e3*24*7),[v,d]}},{text:"近一个月",value:()=>{const d=new Date,v=new Date;return v.setTime(v.getTime()-3600*1e3*24*30),[v,d]}},{text:"近三个月",value:()=>{const d=new Date,v=new Date;return v.setTime(v.getTime()-3600*1e3*24*90),[v,d]}}],x==null?void 0:x.defaultDateRangeShortcuts,"alert"),ue=N({input:{attrs:{placeholder:"请输入${label}",clearable:!0,showWordLimit:!0}},select:{attrs:{style:{width:"100%"},clearable:!0,tagType:"primary",loadingText:"玩命加载中……",getAttrs(d){const{remote:v,multiple:w}=d.attrs||{};return{placeholder:v?"请输入关键字搜索${label}":"请选择${label}",...w?{collapseTags:!0,collapseTagsTooltip:!0,maxCollapseTags:2}:void 0}}}},cascader:{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},"date-picker":{attrs:{style:{width:"100%"},type:"daterange",rangeSeparator:q,valueFormat:"YYYY-MM-DD",placeholder:"请选择${label}",clearable:!0,getAttrs(d){const{attrs:v={}}=d,{type:w}=v,r={};if(w.includes("range")){const s={date:"日期",month:"月份",datetime:"时间"};r.startPlaceholder=`开始${s[w.slice(0,-5)]}`,r.endPlaceholder=`结束${s[w.slice(0,-5)]}`,w==="daterange"&&(r.shortcuts=Ne)}return r}}},switch:{attrs:{activeValue:0,inactiveValue:1,activeText:"启用",inactiveText:"禁用",inlinePrompt:!0}},"checkbox-group":{attrs:{},options:[{label:"多选项1"}]},"radio-group":{attrs:{type:"button"},options:[{label:"单选项-error"}]},pureText:{attrs:{style:{"line-height":"22px","margin-top":"4px"}}},"input-number":{attrs:{placeholder:"${label}"}},slider:{attrs:{}},autocomplete:{attrs:{style:{width:"100%"},placeholder:"请输入${label}",clearable:!0,showWordLimit:!0,fetchSuggestions(d,v){v([{label:d,value:d}])}}},"time-picker":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",rangeSeparator:q,clearable:!0}},"time-select":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},BaseNumberRange:{attrs:{style:{width:"100%"}}}},x==null?void 0:x.defaultFieldAttrs);N({},x==null?void 0:x.defaultPopoverAttrs);const de=N({phone:{rules:[{pattern:j.phone,message:"请输入正确的11位电话号码",trigger:"blur"}],attrs:{maxlength:11}},password:{rules:[{min:6,message:"密码长度不能小于6位",trigger:"blur"},{pattern:j.password,message:"请输入正确的6~16位字母 + 数字组合密码",trigger:"blur"}],attrs:{type:"password",maxlength:16,showPassword:!0}},identity:{rules:[{min:15,message:"身份证号长度不能小于15位",trigger:"blur"},{pattern:j.identity,message:"请输入正确的15/18位身份证号",trigger:"blur"}],attrs:{maxlength:18}},email:{rules:[{pattern:j.email,message:"请输入正确的邮箱地址",trigger:"blur"}]},age:{type:"input-number",attrs:{min:0,max:100},after:"岁"}},x==null?void 0:x.defaultValidTypes),ze={key:0,class:"mr-h"},Me={class:"err"},je={key:15,class:"err"},Le={key:16,class:"ml-h"},qe=["innerHTML"],Ee={key:1,class:"f-fs-fs-w"},He={name:"BaseFormItem",inheritAttrs:!1},Oe=we({...He,props:{prefixProp:{default:""},field:{},pureText:{type:Boolean},modelValue:{},className:{},inputDebounce:{type:Boolean},size:{}},emits:["update:modelValue","change"],setup(d,{emit:v}){const w=d,r=v,s=oe({get(){return w.modelValue},set(n){r("update:modelValue",n)}});let E;const z=Be([]),a=oe(()=>{var I,M;const{prefixProp:n,field:e,size:o}=w,{type:b,label:g,valid:V="",children:h}=e,_=V?de[V]:{},{type:P}=_,T=b||P||ne,f=ue[T],u=W.merge({type:T},f,_,e),$=((M=(I=u==null?void 0:u.attrs)==null?void 0:I.getAttrs)==null?void 0:M.call(I,u))||{};W.merge(u,{attrs:$},e),E=Ie(u.popover),u.prop=`${n}${e.prop}`,h!=null&&h.length&&(z.value=h),u.rules=me(u,e.rules),u.attrs.placeholder=ie(u);const{slots:C}=u.attrs;return re(C)==="String"&&(u.attrs.slots={default:C}),o==="small"&&T==="date-picker"&&(u.labelWidth=g.length+.5+"em"),delete u.popover,delete u.children,u});function ie(n){var g;const{label:e="",example:o}=n;let b=((g=n==null?void 0:n.attrs)==null?void 0:g.placeholder)??"";return b=b.replace("${label}",e),o&&(b+=`，例：${o}`),b}function me(n,e=[]){const{label:o="",valid:b,required:g,children:V}=n,_=[...(b?de[b]:{}).rules||[],...g?[{required:g,message:o+"必填",trigger:"blur"}]:[],...e];return ce(_)}function ce(n=[]){let e=[];return n.forEach((o,b)=>{const g=["required","min","max","pattern","validator"],{type:V}=o,h=e.findIndex((_,P)=>{let T=!1;return V?T=_.type===V:T=!!g.find((f,u)=>o[f]!==void 0&&_[f]!==void 0),T});h===-1?e.push(o):e[h]=o}),e}function ve(n,e){var _,P,T;const{type:o=ne,label:b,attrs:g={},options:V=[],after:h=""}=n;if(["select","radio-group"].includes(o))e=(_=V==null?void 0:V.find(f=>f.value===e))==null?void 0:_.label;else if(o.includes("Time")||o.includes("date")){const{format:f}=W.merge({},(P=ue[o])==null?void 0:P.attrs,g),u=re(e)==="Array",$=` ${q} `;w.pureText?e=u?e.join($):e:e=u?e.map(C=>C.format(f)).join($):e==null?void 0:e.format(f)}else if(o==="checkbox-group")e=(T=V==null?void 0:V.filter(f=>e.includes(f.value)))==null?void 0:T.map(f=>f.label).join("，");else if(o==="input-number")e=e?e+h:"-";else if(o==="switch"){const{activeText:f="是",inactiveText:u="否",activeValue:$}=g;e=$===e?f:u}else o==="checkbox"?e=e?"是":"否":o==="cascader"?e=Se(g==null?void 0:g.options,e)||"-":o==="BaseNumberRange"?e=e.join(q):o==="custom"&&(e="-");return{label:b,value:e}}function ge(n,e){if(w.inputDebounce){const b=(n.querySelector("input")||n.querySelector("textarea")).value;r("change",e,b)}}return(n,e)=>{const o=m("BaseRender"),b=m("BaseIcon"),g=m("el-popover"),V=m("el-input"),h=m("el-option"),_=m("el-select"),P=m("el-date-picker"),T=m("el-radio-button"),f=m("el-radio"),u=m("el-radio-group"),$=m("el-checkbox"),C=m("el-checkbox-group"),I=m("el-input-number"),M=m("el-switch"),fe=m("el-cascader"),be=m("BaseNumberRange"),ye=m("BaseUpload"),Ve=m("el-autocomplete"),ke=m("el-slider"),xe=m("BaseFormItem"),he=m("el-form-item"),_e=De("debounce");return l(),i(he,c({class:"base-form-item"},a.value,{class:[n.className,a.value.labelHide?"label-hide":""]}),{label:k(()=>[B(o,{data:a.value.label},null,8,["data"]),S(E)?(l(),i(g,O(c({key:0},S(E))),{reference:k(()=>[B(b,{color:S(Ue).colorInfo,class:$e(["icon-popover",n.size]),name:"QuestionFilled"},null,8,["color","class"])]),_:1},16)):L("",!0)]),default:k(()=>{var Q,G,J,K,Z,X,ee,te,ae,le;return[a.value.before?(l(),y("div",ze,[B(o,{data:a.value.before},null,8,["data"])])):L("",!0),z.value.length?(l(),y(D,{key:2},[a.value.type==="addDel"?(l(),i(Re,{key:0,parentProp:a.value.prop,fields:z.value,pureText:n.pureText,modelValue:s.value,"onUpdate:modelValue":e[30]||(e[30]=t=>s.value=t)},null,8,["parentProp","fields","pureText","modelValue"])):(l(),y("div",Ee,[(l(!0),y(D,null,U(z.value,(t,p)=>(l(),i(xe,c({prefixProp:a.value.prop+".",field:t,pureText:t.pureText||n.pureText,modelValue:s.value[t.prop],"onUpdate:modelValue":A=>s.value[t.prop]=A},t,{key:p}),null,16,["prefixProp","field","pureText","modelValue","onUpdate:modelValue"]))),128))]))],64)):(l(),y(D,{key:1},[a.value.pureText||n.pureText?(l(),y(D,{key:0},[Y(F(ve(a.value,s.value).value??"-"),1)],64)):(l(),y(D,{key:1},[a.value.type==="input"?Ae((l(),i(V,c({key:0,class:{"f-1":a.value.before||a.value.after},onClear:e[0]||(e[0]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),modelModifiers:{trim:!0}},a.value.attrs),R({_:2},[U((G=(Q=a.value)==null?void 0:Q.attrs)==null?void 0:G.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])),[[_e,t=>ge(t,a.value.prop),"input"]]):a.value.type==="select"?(l(),i(_,c({key:1,class:{"f-1":a.value.before||a.value.after},onChange:e[2]||(e[2]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value=t)},a.value.attrs),R({default:k(()=>[(l(!0),y(D,null,U(a.value.options,(t,p)=>(l(),y(D,{key:p},[t!=null&&t.customOption?(l(),i(h,O(c({key:0},S(se)(t,["customOption"]))),{default:k(()=>[B(o,{data:t.customOption},null,8,["data"])]),_:2},1040)):(l(),i(h,O(c({key:1},t)),null,16))],64))),128))]),_:2},[U((K=(J=a.value)==null?void 0:J.attrs)==null?void 0:K.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])):a.value.type==="date-picker"?(l(),i(P,c({key:2,class:{"f-1":a.value.before||a.value.after},onChange:e[4]||(e[4]=t=>r("change",a.value.prop,t)),onClear:e[5]||(e[5]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=t=>s.value=t)},a.value.attrs),R({_:2},[U((X=(Z=a.value)==null?void 0:Z.attrs)==null?void 0:X.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])):a.value.type==="radio-group"?(l(),i(u,c({key:3,onChange:e[7]||(e[7]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[8]||(e[8]=t=>s.value=t)},a.value.attrs),{default:k(()=>{var t,p;return[((p=(t=a.value)==null?void 0:t.attrs)==null?void 0:p.type)==="button"?(l(!0),y(D,{key:0},U(a.value.options,(A,H)=>(l(),i(T,{disabled:A.disabled,value:A.value,key:H},{default:k(()=>[Y(F(A.label),1)]),_:2},1032,["disabled","value"]))),128)):(l(!0),y(D,{key:1},U(a.value.options,(A,H)=>(l(),i(f,{disabled:A.disabled,value:A.value,key:H},{default:k(()=>[Y(F(A.label),1)]),_:2},1032,["disabled","value"]))),128))]}),_:1},16,["modelValue"])):a.value.type==="checkbox-group"?(l(),i(C,c({key:4,onChange:e[9]||(e[9]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[10]||(e[10]=t=>s.value=t)},a.value.attrs),{default:k(()=>[(l(!0),y(D,null,U(a.value.options,(t,p)=>(l(),i($,c({disabled:t.disabled,value:t.value},S(se)(t,["label"]),{name:a.value.prop,key:p}),{default:k(()=>[B(o,{data:t.label},null,8,["data"])]),_:2},1040,["disabled","value","name"]))),128))]),_:1},16,["modelValue"])):a.value.type==="input-number"?(l(),i(I,c({key:5,onChange:e[11]||(e[11]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[12]||(e[12]=t=>s.value=t)},a.value.attrs),null,16,["modelValue"])):a.value.type==="switch"?(l(),i(M,c({key:6,onChange:e[13]||(e[13]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[14]||(e[14]=t=>s.value=t)},a.value.attrs),null,16,["modelValue"])):a.value.type==="cascader"?(l(),i(fe,c({key:7,class:{"f-1":a.value.before||a.value.after},onChange:e[15]||(e[15]=t=>r("change",a.value.prop,t)),onClear:e[16]||(e[16]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[17]||(e[17]=t=>s.value=t),options:a.value.options},a.value.attrs),R({_:2},[U((te=(ee=a.value)==null?void 0:ee.attrs)==null?void 0:te.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue","options"])):a.value.type==="custom"?Pe(n.$slots,"custom",{key:8,field:a.value},()=>[Ce("div",Me," 【自定义】"+F(`${a.value.label}（${a.value.prop})`),1)],!0):a.value.type==="BaseNumberRange"?(l(),i(be,c({key:9,class:{"f-1":a.value.before||a.value.after},onChange:e[18]||(e[18]=(t,p)=>r("change",t,p)),onClear:e[19]||(e[19]=(t,p)=>r("change",t,p)),size:n.size,modelValue:s.value,"onUpdate:modelValue":e[20]||(e[20]=t=>s.value=t)},a.value),null,16,["class","size","modelValue"])):a.value.type==="BaseUpload"?(l(),i(ye,c({key:10,onChange:e[21]||(e[21]=t=>r("change",a.value.prop,t))},a.value.attrs,{modelValue:s.value,"onUpdate:modelValue":e[22]||(e[22]=t=>s.value=t)}),null,16,["modelValue"])):a.value.type==="autocomplete"?(l(),i(Ve,c({key:11,class:{"f-1":a.value.before||a.value.after},onChange:e[23]||(e[23]=t=>r("change",a.value.prop,t)),onClear:e[24]||(e[24]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[25]||(e[25]=t=>s.value=t)},a.value.attrs),R({_:2},[U((le=(ae=a.value)==null?void 0:ae.attrs)==null?void 0:le.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])):a.value.type==="slider"?(l(),i(ke,c({key:12,class:{"f-1":a.value.before||a.value.after},onChange:e[26]||(e[26]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[27]||(e[27]=t=>s.value=t)},a.value.attrs),null,16,["class","modelValue"])):a.value.type==="checkbox"?(l(),i($,c({key:13,onChange:e[28]||(e[28]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[29]||(e[29]=t=>s.value=t)},a.value.attrs),null,16,["modelValue"])):a.value.type==="empty"?(l(),y("div",c({key:14,class:"empty"},a.value.attrs),null,16)):(l(),y("div",je,"【不存在】"+F(a.value.type),1)),a.value.after?(l(),y("div",Le,[B(o,{data:a.value.after},null,8,["data"])])):L("",!0)],64)),a.value.tips?(l(),y("div",{key:2,class:"show-tips",innerHTML:"注："+a.value.tips},null,8,qe)):L("",!0)],64))]}),_:3},16,["class"])}}});const Je=Fe(Oe,[["__scopeId","data-v-57ea4f25"]]);export{Je as default};
