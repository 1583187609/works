import{M as g,aa as x,bO as k,aM as c,aR as r,aE as s,s as d,bx as C,u as E,F as M,H as N,bc as S,cN as u}from"./index-95e659d0.js";import{b as D,D as O}from"./auth-dfa667d1.js";import{_ as T}from"./AddEdit.vue_vue_type_script_setup_true_lang-307054e8.js";import"./IconPicker-982b35d3.js";import"./MenuTree-938d3d4f.js";const $=g({__name:"index",setup(W){const m=x("openPopup"),{getOpts:o}=k(),b=o("Enable"),p=o("YesNoStatus");o("MenuType");const _=c([{prop:"name",label:"菜单名称"},{prop:"is_out_link",label:"是否外链",type:"select",options:p},{prop:"status",label:"状态",type:"select",options:b},{prop:"is_cache",label:"是否缓存",type:"select",options:p},{prop:"create_time_range",label:"创建时间",type:"date-picker"}]),f=c([{prop:"name",label:"名称",minWidth:220,align:"left"},{prop:"type_text",label:"类型",minWidth:60},{prop:"icon",label:"图标",width:60,type:"custom"},{prop:"order",label:"排序",width:60},{prop:"perms",label:"权限标识",width:180},{prop:"menu_path",label:"菜单路径",minWidth:300},{prop:"component_path",label:"组件路径",minWidth:300},{prop:"status",label:"状态",type:"BaseTag"},{prop:"remark",label:"备注"},{prop:"create_time",label:"创建时间"},{prop:"update_time",label:"创建时间"}]);function h(e,t,a){u({add:()=>l(null,a),delete:()=>i(t,a)},e)}function B(e,t,a){u({edit:()=>l(t,a),delete:()=>i([t.id],a),forbid:()=>void 0,enable:()=>void 0},e)}function l(e,t){m(`${e?"编辑":"新增"}菜单`,{component:T,attrs:{id:e==null?void 0:e.id,refreshList:t}})}function i(e,t){O({ids:e}).then(a=>{t()})}function v(e,t){}return(e,t)=>{const a=r("BaseIcon"),y=r("BaseCrud");return s(),d(y,{cols:f.value,fields:_.value,fetch:S(D),extraBtns:["add","delete"],groupBtns:["edit","delete",n=>n.status===1?"forbid":"enable"],pagination:!1,onExtraBtn:h,onGroupBtn:B,selection:""},{icon:C(({row:n})=>[n.icon?(s(),d(a,{key:0,name:n.icon,size:"22"},null,8,["name"])):(s(),E(M,{key:1},[N("-")],64))]),_:1},8,["cols","fields","fetch","groupBtns"])}}});export{$ as default};
