import"./index-a92bbd2e.js";import{a as p,L as I,g as u,C as L}from"./Chart-5c70cc0a.js";import{M as S,q as E,bZ as _,aE as z,s as B}from"./index-0bf49a0e.js";const $=S({__name:"ChartBars",props:{theme:{},height:{},width:{},titles:{default:()=>[]},units:{default:()=>[]},datas:{default:()=>[[["name","国内","国外"],["示例1",30,22],["示例2",14,42],["示例3",18,23]],[["name","国内","国外"],["示例1",23,62],["示例2",65,88],["示例3",66,48]]]},option:{default:()=>({})}},setup(d){const f={tooltip:{trigger:"item"},barWidth:12,barGap:"50%",grid:[{left:0,width:"47%",bottom:30,top:40,containLabel:!0},{right:0,width:"47%",bottom:30,top:40,containLabel:!0}]},l=d,g=E(()=>{const{datasets:t,newTitles:o,series:a,xAxis:s,yAxis:i}=b(),{option:h}=l;return _.merge({},f,{title:o,grid:[{left:0,width:"47%",bottom:30,top:40,containLabel:!0},{right:0,width:"47%",bottom:30,top:40,containLabel:!0}],xAxis:s,yAxis:i,dataset:t,series:a},h)});function m(t){let o=0;return t.forEach(a=>{for(let s=1;s<a.length;s++)o+=Number(a[s])}),o}function b(){const[t,o,a,s,i]=[[],[],[],[],[]],{option:h,titles:w,units:x,datas:y}=l;return y.forEach((r,e)=>{const A=w[e]||"XXX标题",c=x[e]||"元";o.push({gridIndex:e,left:e==0?"25%":"75%",bottom:0,textAlign:"center",text:`{label|${A}}  {amount|${m(r.slice(1))}${c}}`,textStyle:{rich:{label:{fontSize:14,fontWeight:"bold",color:"#666"},amount:{color:"#333",fontSize:15,fontWeight:"bold"}}}}),s.push({type:"category",gridIndex:e,...p}),i.push({type:"value",gridIndex:e,name:c,...p}),t.push({source:r});const C=r[0];for(let n=0;n<C.length-1;n++)a.push({type:"bar",xAxisIndex:e,yAxisIndex:e,datasetIndex:e,itemStyle:{color:new I(0,0,0,1,[{offset:0,color:u[n][0]},{offset:1,color:u[n][1]}]),borderRadius:[6,6,0,0]},label:{show:!0,position:"top",color:"#666",fontSize:14}})}),{datasets:t,newTitles:o,series:a,xAxis:s,yAxis:i}}return(t,o)=>(z(),B(L,{class:"chart-bars",option:g.value,height:t.height,width:t.width,theme:t.theme},null,8,["option","height","width","theme"]))}});export{$ as _};
