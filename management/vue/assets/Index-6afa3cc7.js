var e;import{ch as l,cd as a,ci as t,c9 as u,M as o,q as r,aM as s,s as n,bx as d,am as i,aR as p,aS as v,aE as c,I as m,bc as g,ap as b,cj as f,ao as h,t as y,u as V,F as k,H as x,b3 as T,bz as w,A as $,aP as U,ck as D,aQ as _,v as C,b_ as B,cl as P,c4 as j,cm as A,cn as S,bH as z}from"./index-3bafcaf7.js";import I from"./GroupList-7d979e85.js";import"./AddDelBtn-20d045b4.js";import"./_utils-89ec2a56.js";const M=null==(e=u)?void 0:e.form;l([{text:"今天",value:new Date},{text:"昨天",value:()=>{const e=new Date;return e.setTime(e.getTime()-864e5),e}},{text:"一周内",value:()=>{const e=new Date;return e.setTime(e.getTime()-6048e5),e}}],null==M?void 0:M.defaultDateShortcuts,"alert");const R=l([{text:"近一周",value:()=>{const e=new Date,l=new Date;return l.setTime(l.getTime()-6048e5),[l,e]}},{text:"近一个月",value:()=>{const e=new Date,l=new Date;return l.setTime(l.getTime()-2592e6),[l,e]}},{text:"近三个月",value:()=>{const e=new Date,l=new Date;return l.setTime(l.getTime()-7776e6),[l,e]}}],null==M?void 0:M.defaultDateRangeShortcuts,"alert"),q=l({input:{attrs:{placeholder:"请输入${label}",clearable:!0,showWordLimit:!0}},select:{attrs:{style:{width:"100%"},clearable:!0,tagType:"primary",loadingText:"玩命加载中……",getAttrs(e){const{remote:l,multiple:a}=e.attrs||{};return{placeholder:l?"请输入关键字搜索${label}":"请选择${label}",...a?{collapseTags:!0,collapseTagsTooltip:!0,maxCollapseTags:2}:void 0}}}},cascader:{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},"date-picker":{attrs:{style:{width:"100%"},type:"daterange",rangeSeparator:a,valueFormat:"YYYY-MM-DD",placeholder:"请选择${label}",clearable:!0,getAttrs(e){const{attrs:l={}}=e,{type:a}=l,t={};if(a.includes("range")){const e={date:"日期",month:"月份",datetime:"时间"};t.startPlaceholder=`开始${e[a.slice(0,-5)]}`,t.endPlaceholder=`结束${e[a.slice(0,-5)]}`,"daterange"===a&&(t.shortcuts=R)}return t}}},switch:{attrs:{activeValue:0,inactiveValue:1,activeText:"启用",inactiveText:"禁用",inlinePrompt:!0}},"checkbox-group":{attrs:{},options:[{label:"多选项1"}]},"radio-group":{attrs:{type:"button"},options:[{label:"单选项-error"}]},pureText:{attrs:{style:{"line-height":"22px","margin-top":"4px"}}},"input-number":{attrs:{placeholder:"${label}"}},slider:{attrs:{}},autocomplete:{attrs:{style:{width:"100%"},placeholder:"请输入${label}",clearable:!0,showWordLimit:!0,fetchSuggestions(e,l){l([{label:e,value:e}])}}},"time-picker":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",rangeSeparator:a,clearable:!0}},"time-select":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},BaseNumberRange:{attrs:{style:{width:"100%"}}}},null==M?void 0:M.defaultFieldAttrs);l({},null==M?void 0:M.defaultPopoverAttrs);const F=l({phone:{rules:[{pattern:t.phone,message:"请输入正确的11位电话号码",trigger:"blur"}],attrs:{maxlength:11}},password:{rules:[{min:6,message:"密码长度不能小于6位",trigger:"blur"},{pattern:t.password,message:"请输入正确的6~16位字母 + 数字组合密码",trigger:"blur"}],attrs:{type:"password",maxlength:16,showPassword:!0}},identity:{rules:[{min:15,message:"身份证号长度不能小于15位",trigger:"blur"},{pattern:t.identity,message:"请输入正确的15/18位身份证号",trigger:"blur"}],attrs:{maxlength:18}},email:{rules:[{pattern:t.email,message:"请输入正确的邮箱地址",trigger:"blur"}]},age:{type:"input-number",attrs:{min:0,max:100},after:"岁"}},null==M?void 0:M.defaultValidTypes),N={key:0,class:"mr-h"},H={class:"err"},L={key:15,class:"err"},Y={key:16,class:"ml-h"},O=["innerHTML"],W={key:1,class:"f-fs-fs-w"},E=z(o({name:"BaseFormItem",inheritAttrs:!1,props:{prefixProp:{default:""},field:{},pureText:{type:Boolean},modelValue:{},className:{},inputDebounce:{type:Boolean},size:{}},emits:["update:modelValue","change"],setup(e,{emit:l}){const t=e,u=l,o=r({get:()=>t.modelValue,set(e){u("update:modelValue",e)}});let z;const M=s([]),R=r((()=>{var e,l;const{prefixProp:a,field:u,size:o}=t,{type:r,label:s,valid:n="",children:d}=u,i=n?F[n]:{},{type:p}=i,v=r||p||S,c=q[v],m=B.merge({type:v},c,i,u),g=(null==(l=null==(e=null==m?void 0:m.attrs)?void 0:e.getAttrs)?void 0:l.call(e,m))||{};B.merge(m,{attrs:g},u),z=P(m.popover),m.prop=`${a}${u.prop}`,(null==d?void 0:d.length)&&(M.value=d),m.rules=function(e,l=[]){const{label:a="",valid:t,required:u,children:o}=e,r=t?F[t]:{},s=[...r.rules||[],...u?[{required:u,message:a+"必填",trigger:"blur"}]:[],...l];return function(e=[]){let l=[];return e.forEach(((e,a)=>{const t=["required","min","max","pattern","validator"],{type:u}=e,o=l.findIndex(((l,a)=>{let o=!1;return o=u?l.type===u:!!t.find(((a,t)=>void 0!==e[a]&&void 0!==l[a])),o}));-1===o?l.push(e):l[o]=e})),l}(s)}(m,u.rules),m.attrs.placeholder=function(e){var l;const{label:a="",example:t}=e;let u=(null==(l=null==e?void 0:e.attrs)?void 0:l.placeholder)??"";u=u.replace("${label}",a),t&&(u+=`，例：${t}`);return u}(m);const{slots:b}=m.attrs;return"String"===j(b)&&(m.attrs.slots={default:b}),"small"===o&&"date-picker"===v&&(m.labelWidth=s.length+.5+"em"),delete m.popover,delete m.children,m}));function E(e,l){var u,o,r;const{type:s=S,label:n,attrs:d={},options:i=[],after:p=""}=e;if(["select","radio-group"].includes(s))l=null==(u=null==i?void 0:i.find((e=>e.value===l)))?void 0:u.label;else if(s.includes("Time")||s.includes("date")){const{format:e}=B.merge({},null==(o=q[s])?void 0:o.attrs,d),u="Array"===j(l),r=` ${a} `;l=t.pureText?u?l.join(r):l:u?l.map((l=>l.format(e))).join(r):null==l?void 0:l.format(e)}else if("checkbox-group"===s)l=null==(r=null==i?void 0:i.filter((e=>l.includes(e.value))))?void 0:r.map((e=>e.label)).join("，");else if("input-number"===s)l=l?l+p:"-";else if("switch"===s){const{activeText:e="是",inactiveText:a="否",activeValue:t}=d;l=t===l?e:a}else"checkbox"===s?l=l?"是":"否":"cascader"===s?l=A(null==d?void 0:d.options,l)||"-":"BaseNumberRange"===s?l=l.join(a):"custom"===s&&(l="-");return{label:n,value:l}}return(e,l)=>{const a=p("BaseRender"),r=p("BaseIcon"),s=p("el-popover"),B=p("el-input"),P=p("el-option"),j=p("el-select"),A=p("el-date-picker"),S=p("el-radio-button"),q=p("el-radio"),F=p("el-radio-group"),Q=p("el-checkbox"),G=p("el-checkbox-group"),K=p("el-input-number"),J=p("el-switch"),X=p("el-cascader"),Z=p("BaseNumberRange"),ee=p("BaseUpload"),le=p("el-autocomplete"),ae=p("el-slider"),te=p("BaseFormItem"),ue=p("el-form-item"),oe=v("debounce");return c(),n(ue,i({class:"base-form-item"},R.value,{class:[e.className,R.value.labelHide?"label-hide":""]}),{label:d((()=>[m(a,{data:R.value.label},null,8,["data"]),g(z)?(c(),n(s,b(i({key:0},g(z))),{reference:d((()=>[m(r,{color:g(f).colorInfo,class:h(["icon-popover",e.size]),name:"QuestionFilled"},null,8,["color","class"])])),_:1},16)):y("",!0)])),default:d((()=>{var r,s,p,v,f,h,z,ue,re,se;return[R.value.before?(c(),V("div",N,[m(a,{data:R.value.before},null,8,["data"])])):y("",!0),M.value.length?(c(),V(k,{key:2},["addDel"===R.value.type?(c(),n(I,{key:0,parentProp:R.value.prop,fields:M.value,pureText:e.pureText,modelValue:o.value,"onUpdate:modelValue":l[26]||(l[26]=e=>o.value=e)},null,8,["parentProp","fields","pureText","modelValue"])):(c(),V("div",W,[(c(!0),V(k,null,U(M.value,((l,a)=>(c(),n(te,i({prefixProp:R.value.prop+".",field:l,pureText:l.pureText||e.pureText,modelValue:o.value[l.prop],"onUpdate:modelValue":e=>o.value[l.prop]=e},l,{key:a}),null,16,["prefixProp","field","pureText","modelValue","onUpdate:modelValue"])))),128))]))],64)):(c(),V(k,{key:1},[R.value.pureText||e.pureText?(c(),V(k,{key:0},[x(T(E(R.value,o.value).value??"-"),1)],64)):(c(),V(k,{key:1},["input"===R.value.type?w((c(),n(B,i({key:0,class:{"f-1":R.value.before||R.value.after},onClear:l[0]||(l[0]=e=>u("change",R.value.prop,"")),modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),modelModifiers:{trim:!0}},R.value.attrs),$({_:2},[U(null==(s=null==(r=R.value)?void 0:r.attrs)?void 0:s.slots,((e,l)=>({name:l,fn:d((()=>[m(a,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])),[[oe,e=>function(e,l){if(t.inputDebounce){const a=(e.querySelector("input")||e.querySelector("textarea")).value;u("change",l,a)}}(e,R.value.prop),"input"]]):"select"===R.value.type?(c(),n(j,i({key:1,class:{"f-1":R.value.before||R.value.after},onChange:l[2]||(l[2]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value=e)},R.value.attrs),$({default:d((()=>[(c(!0),V(k,null,U(R.value.options,((e,l)=>(c(),V(k,{key:l},[(null==e?void 0:e.customOption)?(c(),n(P,b(i({key:0},g(D)(e,["customOption"]))),{default:d((()=>[m(a,{data:e.customOption},null,8,["data"])])),_:2},1040)):(c(),n(P,b(i({key:1},e)),null,16))],64)))),128))])),_:2},[U(null==(v=null==(p=R.value)?void 0:p.attrs)?void 0:v.slots,((e,l)=>({name:l,fn:d((()=>[m(a,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])):"date-picker"===R.value.type?(c(),n(A,i({key:2,class:{"f-1":R.value.before||R.value.after},onChange:l[4]||(l[4]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value=e)},R.value.attrs),$({_:2},[U(null==(h=null==(f=R.value)?void 0:f.attrs)?void 0:h.slots,((e,l)=>({name:l,fn:d((()=>[m(a,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])):"radio-group"===R.value.type?(c(),n(F,i({key:3,onChange:l[6]||(l[6]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[7]||(l[7]=e=>o.value=e)},R.value.attrs),{default:d((()=>{var e,l;return["button"===(null==(l=null==(e=R.value)?void 0:e.attrs)?void 0:l.type)?(c(!0),V(k,{key:0},U(R.value.options,((e,l)=>(c(),n(S,{disabled:e.disabled,value:e.value,key:l},{default:d((()=>[x(T(e.label),1)])),_:2},1032,["disabled","value"])))),128)):(c(!0),V(k,{key:1},U(R.value.options,((e,l)=>(c(),n(q,{disabled:e.disabled,value:e.value,key:l},{default:d((()=>[x(T(e.label),1)])),_:2},1032,["disabled","value"])))),128))]})),_:1},16,["modelValue"])):"checkbox-group"===R.value.type?(c(),n(G,i({key:4,onChange:l[8]||(l[8]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value=e)},R.value.attrs),{default:d((()=>[(c(!0),V(k,null,U(R.value.options,((e,l)=>(c(),n(Q,i({disabled:e.disabled,value:e.value},g(D)(e,["label"]),{name:R.value.prop,key:l}),{default:d((()=>[m(a,{data:e.label},null,8,["data"])])),_:2},1040,["disabled","value","name"])))),128))])),_:1},16,["modelValue"])):"input-number"===R.value.type?(c(),n(K,i({key:5,onChange:l[10]||(l[10]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[11]||(l[11]=e=>o.value=e)},R.value.attrs),null,16,["modelValue"])):"switch"===R.value.type?(c(),n(J,i({key:6,onChange:l[12]||(l[12]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[13]||(l[13]=e=>o.value=e)},R.value.attrs),null,16,["modelValue"])):"cascader"===R.value.type?(c(),n(X,i({key:7,class:{"f-1":R.value.before||R.value.after},onChange:l[14]||(l[14]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[15]||(l[15]=e=>o.value=e),options:R.value.options},R.value.attrs),$({_:2},[U(null==(ue=null==(z=R.value)?void 0:z.attrs)?void 0:ue.slots,((e,l)=>({name:l,fn:d((()=>[m(a,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue","options"])):"custom"===R.value.type?_(e.$slots,"custom",{key:8,field:R.value},(()=>[C("div",H," 【自定义】"+T(`${R.value.label}（${R.value.prop})`),1)]),!0):"BaseNumberRange"===R.value.type?(c(),n(Z,i({key:9,class:{"f-1":R.value.before||R.value.after},onChange:l[16]||(l[16]=(e,l)=>u("change",e,l??"")),size:e.size,modelValue:o.value,"onUpdate:modelValue":l[17]||(l[17]=e=>o.value=e)},R.value),null,16,["class","size","modelValue"])):"BaseUpload"===R.value.type?(c(),n(ee,i({key:10,onChange:l[18]||(l[18]=e=>u("change",R.value.prop,e??""))},R.value.attrs,{modelValue:o.value,"onUpdate:modelValue":l[19]||(l[19]=e=>o.value=e)}),null,16,["modelValue"])):"autocomplete"===R.value.type?(c(),n(le,i({key:11,class:{"f-1":R.value.before||R.value.after},onChange:l[20]||(l[20]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[21]||(l[21]=e=>o.value=e)},R.value.attrs),$({_:2},[U(null==(se=null==(re=R.value)?void 0:re.attrs)?void 0:se.slots,((e,l)=>({name:l,fn:d((()=>[m(a,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])):"slider"===R.value.type?(c(),n(ae,i({key:12,class:{"f-1":R.value.before||R.value.after},onChange:l[22]||(l[22]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[23]||(l[23]=e=>o.value=e)},R.value.attrs),null,16,["class","modelValue"])):"checkbox"===R.value.type?(c(),n(Q,i({key:13,onChange:l[24]||(l[24]=e=>u("change",R.value.prop,e??"")),modelValue:o.value,"onUpdate:modelValue":l[25]||(l[25]=e=>o.value=e)},R.value.attrs),null,16,["modelValue"])):"empty"===R.value.type?(c(),V("div",i({key:14,class:"empty"},R.value.attrs),null,16)):(c(),V("div",L,"【不存在】"+T(R.value.type),1)),R.value.after?(c(),V("div",Y,[m(a,{data:R.value.after},null,8,["data"])])):y("",!0)],64)),R.value.tips?(c(),V("div",{key:2,class:"show-tips",innerHTML:"注："+R.value.tips},null,8,O)):y("",!0)],64))]})),_:3},16,["class"])}}}),[["__scopeId","data-v-88078947"]]);export{E as default};
