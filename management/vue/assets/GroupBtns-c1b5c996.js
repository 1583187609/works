var a,e,l;import{M as s,ak as t,cB as n,c8 as o,q as c,u as i,F as m,aP as r,s as u,bx as d,bc as p,t as v,H as k,b3 as x,ao as y,bJ as b,aa as f,aR as g,aE as B,am as _,I as w,cK as N,cw as h,cf as C,bH as j}from"./index-31bd5f7b.js";import{g as S}from"./index-3780be65.js";const G=j(s({__name:"GroupBtns",props:t({btns:{},row:{},maxNum:{},vertical:{type:Boolean},emptyStr:{},compact:{type:Boolean},small:{type:Boolean}},Object.assign({btns:()=>[],maxNum:n,emptyStr:"-"},null==(l=null==(e=null==(a=o)?void 0:a.BaseCrud)?void 0:e._components)?void 0:l.GroupBtns)),emits:["click"],setup(a,{emit:e}){const l={size:"small",plain:!0,text:!0,style:"padding: 0"},s=b(),t=f("closePopup"),n=a,o=e;let j=!1;const G=c((()=>{var a;return(null==(a=n.btns)?void 0:a.length)>n.maxNum})),H=c((()=>{var a;const{maxNum:e}=n,l=(null==(a=n.btns)?void 0:a.map((a=>S(a))))||[];return h(l),j=!l.slice(e-1).some((a=>a.popconfirm)),l}));function I(a){const{name:e,text:l,to:n}=a;n?s.push(n):o("click",a,((a=`${l||"操作"}成功！`,e,s)=>{C(a),t(e),null==s||s()}))}return(a,e)=>{const s=g("BaseBtn"),t=g("el-button"),n=g("el-dropdown-item"),o=g("el-dropdown-menu"),c=g("el-dropdown");return B(),i("div",{class:y(["group-btns",[a.vertical?"f-c-c-c":"f-c-c"]])},[(B(!0),i(m,null,r(H.value.slice(0,G.value?a.maxNum-1:a.maxNum),((e,t)=>(B(),u(s,_({class:{"ml-0-i":a.vertical},name:e,data:a.row,onClick:a=>I(e)},l,{key:t}),null,16,["class","name","data","onClick"])))),128)),G.value?(B(),u(c,{key:0,trigger:p(j)?"hover":"click","hide-on-click":p(j)},{dropdown:d((()=>[w(o,null,{default:d((()=>[(B(!0),i(m,null,r(H.value.slice(a.maxNum-1),((e,t)=>(B(),u(n,{key:t},{default:d((()=>[w(s,_({name:e,data:a.row,onClick:a=>I(e)},l),null,16,["name","data","onClick"])])),_:2},1024)))),128))])),_:1})])),default:d((()=>[w(t,_({class:["ml-12",[a.vertical?"ml-0-i":""]],icon:p(N),type:"primary"},l),{default:d((()=>[k(" 更多 ")])),_:1},16,["class","icon"])])),_:1},8,["trigger","hide-on-click"])):v("",!0),H.value.length?v("",!0):(B(),i(m,{key:1},[k(x(a.emptyStr),1)],64))],2)}}}),[["__scopeId","data-v-40e34088"]]);export{G as default};
