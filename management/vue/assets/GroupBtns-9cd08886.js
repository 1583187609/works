import{M as $,ak as A,cz as D,c7 as F,q as h,u,F as B,aP as x,s as k,bx as l,bc as g,t as b,H as G,b3 as H,ao as R,bJ as q,aa as J,aR as c,aE as s,am as w,I as y,cI as K,cv as L,cf as T,bH as Q}from"./index-346f95fe.js";import{g as U}from"./index-6d0323cd.js";var P,S,j;const W=$({__name:"GroupBtns",props:A({btns:{},row:{},maxNum:{},vertical:{type:Boolean},emptyStr:{}},Object.assign({btns:()=>[],maxNum:D,emptyStr:"-"},(j=(S=(P=F)==null?void 0:P.BaseCrud)==null?void 0:S._components)==null?void 0:j.GroupBtns)),emits:["click"],setup(z,{emit:E}){const p={size:"small",plain:!0,text:!0},I=q(),M=J("closePopup"),m=z,O=E;let i=!1;const C=h(()=>{var e;return((e=m.btns)==null?void 0:e.length)>m.maxNum}),d=h(()=>{var o;const{maxNum:e}=m,a=((o=m.btns)==null?void 0:o.map(t=>U(t)))||[];return L(a),i=!a.slice(e-1).some(t=>t.popconfirm),a});function N(e){const{name:a,text:o,to:t}=e;t?I.push(t):O("click",e,(_=`${o||"操作"}成功！`,f,n)=>{T(_),M(f),n==null||n()})}return(e,a)=>{const o=c("BaseBtn"),t=c("el-button"),_=c("el-dropdown-item"),f=c("el-dropdown-menu"),n=c("el-dropdown");return s(),u("div",{class:R(["group-btns",e.vertical?"f-c-c-c":"f-c-c"])},[(s(!0),u(B,null,x(d.value.slice(0,C.value?e.maxNum-1:e.maxNum),(r,v)=>(s(),k(o,w({class:{"ml-0-i":e.vertical},name:r,data:e.row,onClick:V=>N(r)},p,{key:v}),null,16,["class","name","data","onClick"]))),128)),C.value?(s(),k(n,{key:0,class:"ml-12",trigger:g(i)?"hover":"click","hide-on-click":g(i)},{dropdown:l(()=>[y(f,null,{default:l(()=>[(s(!0),u(B,null,x(d.value.slice(e.maxNum-1),(r,v)=>(s(),k(_,{key:v},{default:l(()=>[y(o,w({name:r,data:e.row,onClick:V=>N(r)},p),null,16,["name","data","onClick"])]),_:2},1024))),128))]),_:1})]),default:l(()=>[y(t,w({class:{"ml-0-i":e.vertical},icon:g(K),type:"primary"},p),{default:l(()=>[G(" 更多 ")]),_:1},16,["class","icon"])]),_:1},8,["trigger","hide-on-click"])):b("",!0),d.value.length?b("",!0):(s(),u(B,{key:1},[G(H(e.emptyStr),1)],64))],2)}}});const Z=Q(W,[["__scopeId","data-v-089421ca"]]);export{Z as default};
