import{cg as R,cc as L,ch as M,c7 as we,M as Be,bd as De,q as oe,aM as se,s as i,bx as k,am as v,aR as m,aS as Ue,aE as l,I as B,ap as H,bc as O,ci as $e,ao as Ae,t as j,u as y,F as D,H as Y,b3 as S,bz as Pe,A as F,aP as U,cj as re,aQ as Ce,v as Ie,c8 as W,ck as Se,c2 as ne,cl as Fe,cm as ue,bH as Re}from"./index-346f95fe.js";import Ne from"./GroupList-80aab11d.js";import"./AddDelBtn-a1433b04.js";import"./_utils-e1c645e6.js";var ie;const x=(ie=we)==null?void 0:ie.form;R([{text:"今天",value:new Date},{text:"昨天",value:()=>{const d=new Date;return d.setTime(d.getTime()-3600*1e3*24),d}},{text:"一周内",value:()=>{const d=new Date;return d.setTime(d.getTime()-3600*1e3*24*7),d}}],x==null?void 0:x.defaultDateShortcuts,"alert");const ze=R([{text:"近一周",value:()=>{const d=new Date,c=new Date;return c.setTime(c.getTime()-3600*1e3*24*7),[c,d]}},{text:"近一个月",value:()=>{const d=new Date,c=new Date;return c.setTime(c.getTime()-3600*1e3*24*30),[c,d]}},{text:"近三个月",value:()=>{const d=new Date,c=new Date;return c.setTime(c.getTime()-3600*1e3*24*90),[c,d]}}],x==null?void 0:x.defaultDateRangeShortcuts,"alert"),de=R({input:{attrs:{placeholder:"请输入${label}",clearable:!0,showWordLimit:!0}},select:{attrs:{style:{width:"100%"},clearable:!0,tagType:"primary",loadingText:"玩命加载中……",getAttrs(d){const{remote:c,multiple:w}=d.attrs||{};return{placeholder:c?"请输入关键字搜索${label}":"请选择${label}",...w?{collapseTags:!0,collapseTagsTooltip:!0,maxCollapseTags:2}:void 0}}}},cascader:{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},"date-picker":{attrs:{style:{width:"100%"},type:"daterange",rangeSeparator:L,valueFormat:"YYYY-MM-DD",placeholder:"请选择${label}",clearable:!0,getAttrs(d){const{attrs:c={}}=d,{type:w}=c,r={};if(w.includes("range")){const s={date:"日期",month:"月份",datetime:"时间"};r.startPlaceholder=`开始${s[w.slice(0,-5)]}`,r.endPlaceholder=`结束${s[w.slice(0,-5)]}`,w==="daterange"&&(r.shortcuts=ze)}return r}}},switch:{attrs:{activeValue:0,inactiveValue:1,activeText:"启用",inactiveText:"禁用",inlinePrompt:!0}},"checkbox-group":{attrs:{},options:[{label:"多选项1"}]},"radio-group":{attrs:{type:"button"},options:[{label:"单选项-error"}]},pureText:{attrs:{style:{"line-height":"22px","margin-top":"4px"}}},"input-number":{attrs:{placeholder:"${label}"}},slider:{attrs:{}},autocomplete:{attrs:{style:{width:"100%"},placeholder:"请输入${label}",clearable:!0,showWordLimit:!0,fetchSuggestions(d,c){c([{label:d,value:d}])}}},"time-picker":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",rangeSeparator:L,clearable:!0}},"time-select":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},BaseNumberRange:{attrs:{style:{width:"100%"}}}},x==null?void 0:x.defaultFieldAttrs);R({},x==null?void 0:x.defaultPopoverAttrs);const pe=R({phone:{rules:[{pattern:M.phone,message:"请输入正确的11位电话号码",trigger:"blur"}],attrs:{maxlength:11}},password:{rules:[{min:6,message:"密码长度不能小于6位",trigger:"blur"},{pattern:M.password,message:"请输入正确的6~16位字母 + 数字组合密码",trigger:"blur"}],attrs:{type:"password",maxlength:16,showPassword:!0}},identity:{rules:[{min:15,message:"身份证号长度不能小于15位",trigger:"blur"},{pattern:M.identity,message:"请输入正确的15/18位身份证号",trigger:"blur"}],attrs:{maxlength:18}},email:{rules:[{pattern:M.email,message:"请输入正确的邮箱地址",trigger:"blur"}]},age:{type:"input-number",attrs:{min:0,max:100},after:"岁"}},x==null?void 0:x.defaultValidTypes),Me={key:0,class:"mr-h"},je={class:"err"},Le={key:15,class:"err"},qe={key:16,class:"ml-h"},Ee=["innerHTML"],He={key:1,class:"f-fs-fs-w"},Oe={name:"BaseFormItem",inheritAttrs:!1},Ye=Be({...Oe,props:{prefixProp:{default:""},field:{},pureText:{type:Boolean},modelValue:{},className:{},inputDebounce:{type:Boolean},size:{}},emits:["update:modelValue","change"],setup(d,{emit:c}){const w=d,r=c;De();const s=oe({get(){return w.modelValue},set(n){r("update:modelValue",n)}}),q=se(),N=se([]),a=oe(()=>{var I,z;const{prefixProp:n,field:e,size:o}=w,{type:b,label:g,valid:V="",children:h}=e,_=V?pe[V]:{},{type:P}=_,T=b||P||ue,f=de[T],u=W.merge({type:T},f,_,e),$=((z=(I=u==null?void 0:u.attrs)==null?void 0:I.getAttrs)==null?void 0:z.call(I,u))||{};W.merge(u,{attrs:$},e),q.value=Se(u.popover),u.prop=`${n}${e.prop}`,h!=null&&h.length&&(N.value=h),u.rules=ve(u,e.rules),u.attrs.placeholder=me(u);const{slots:C}=u.attrs;return ne(C)==="String"&&(u.attrs.slots={default:C}),o==="small"&&T==="date-picker"&&(u.labelWidth=g.length+.5+"em"),delete u.popover,delete u.children,u});function me(n){var g;const{label:e="",example:o}=n;let b=((g=n==null?void 0:n.attrs)==null?void 0:g.placeholder)??"";return b=b.replace("${label}",e),o&&(b+=`，例：${o}`),b}function ve(n,e=[]){const{label:o="",valid:b,required:g,children:V}=n,_=[...(b?pe[b]:{}).rules||[],...g?[{required:g,message:o+"必填",trigger:"blur"}]:[],...e];return ce(_)}function ce(n=[]){let e=[];return n.forEach((o,b)=>{const g=["required","min","max","pattern","validator"],{type:V}=o,h=e.findIndex((_,P)=>{let T=!1;return V?T=_.type===V:T=!!g.find((f,u)=>o[f]!==void 0&&_[f]!==void 0),T});h===-1?e.push(o):e[h]=o}),e}function ge(n,e){var _,P,T;const{type:o=ue,label:b,attrs:g={},options:V=[],after:h=""}=n;if(["select","radio-group"].includes(o))e=(_=V==null?void 0:V.find(f=>f.value===e))==null?void 0:_.label;else if(o.includes("Time")||o.includes("date")){const{format:f}=W.merge({},(P=de[o])==null?void 0:P.attrs,g),u=ne(e)==="Array",$=` ${L} `;w.pureText?e=u?e.join($):e:e=u?e.map(C=>C.format(f)).join($):e==null?void 0:e.format(f)}else if(o==="checkbox-group")e=(T=V==null?void 0:V.filter(f=>e.includes(f.value)))==null?void 0:T.map(f=>f.label).join("，");else if(o==="input-number")e=e?e+h:"-";else if(o==="switch"){const{activeText:f="是",inactiveText:u="否",activeValue:$}=g;e=$===e?f:u}else o==="checkbox"?e=e?"是":"否":o==="cascader"?e=Fe(g==null?void 0:g.options,e)||"-":o==="BaseNumberRange"?e=e.join(L):o==="custom"&&(e="-");return{label:b,value:e}}function fe(n,e){if(w.inputDebounce){const b=(n.querySelector("input")||n.querySelector("textarea")).value;r("change",e,b)}}return(n,e)=>{const o=m("BaseRender"),b=m("BaseIcon"),g=m("el-popover"),V=m("el-input"),h=m("el-option"),_=m("el-select"),P=m("el-date-picker"),T=m("el-radio-button"),f=m("el-radio"),u=m("el-radio-group"),$=m("el-checkbox"),C=m("el-checkbox-group"),I=m("el-input-number"),z=m("el-switch"),be=m("el-cascader"),ye=m("BaseNumberRange"),Ve=m("BaseUpload"),ke=m("el-autocomplete"),xe=m("el-slider"),he=m("BaseFormItem"),_e=m("el-form-item"),Te=Ue("debounce");return l(),i(_e,v({class:"base-form-item"},a.value,{class:[n.className,a.value.labelHide&&"label-hide"]}),{label:k(()=>[B(o,{data:a.value.label},null,8,["data"]),q.value?(l(),i(g,H(v({key:0},q.value)),{reference:k(()=>[B(b,{color:O($e).colorInfo,class:Ae(["icon-popover",n.size]),name:"QuestionFilled"},null,8,["color","class"])]),_:1},16)):j("",!0)]),default:k(()=>{var Q,G,J,K,X,Z,ee,te,ae,le;return[a.value.before?(l(),y("div",Me,[B(o,{data:a.value.before},null,8,["data"])])):j("",!0),N.value.length?(l(),y(D,{key:2},[a.value.type==="addDel"?(l(),i(Ne,{key:0,parentProp:a.value.prop,fields:N.value,pureText:n.pureText,modelValue:s.value,"onUpdate:modelValue":e[30]||(e[30]=t=>s.value=t)},null,8,["parentProp","fields","pureText","modelValue"])):(l(),y("div",He,[(l(!0),y(D,null,U(N.value,(t,p)=>(l(),i(he,v({prefixProp:a.value.prop+".",field:t,pureText:t.pureText||n.pureText,modelValue:s.value[t.prop],"onUpdate:modelValue":A=>s.value[t.prop]=A},t,{key:p}),null,16,["prefixProp","field","pureText","modelValue","onUpdate:modelValue"]))),128))]))],64)):(l(),y(D,{key:1},[a.value.pureText||n.pureText?(l(),y(D,{key:0},[Y(S(ge(a.value,s.value).value??"-"),1)],64)):(l(),y(D,{key:1},[a.value.type==="input"?Pe((l(),i(V,v({key:0,class:{"f-1":a.value.before||a.value.after},onClear:e[0]||(e[0]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),modelModifiers:{trim:!0}},a.value.attrs),F({_:2},[U((G=(Q=a.value)==null?void 0:Q.attrs)==null?void 0:G.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])),[[Te,t=>fe(t,a.value.prop),"input"]]):a.value.type==="select"?(l(),i(_,v({key:1,class:{"f-1":a.value.before||a.value.after},onChange:e[2]||(e[2]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value=t)},a.value.attrs),F({default:k(()=>[(l(!0),y(D,null,U(a.value.options,(t,p)=>(l(),y(D,{key:p},[t!=null&&t.customOption?(l(),i(h,H(v({key:0},O(re)(t,["customOption"]))),{default:k(()=>[B(o,{data:t.customOption},null,8,["data"])]),_:2},1040)):(l(),i(h,H(v({key:1},t)),null,16))],64))),128))]),_:2},[U((K=(J=a.value)==null?void 0:J.attrs)==null?void 0:K.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])):a.value.type==="date-picker"?(l(),i(P,v({key:2,class:{"f-1":a.value.before||a.value.after},onChange:e[4]||(e[4]=t=>r("change",a.value.prop,t)),onClear:e[5]||(e[5]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=t=>s.value=t)},a.value.attrs),F({_:2},[U((Z=(X=a.value)==null?void 0:X.attrs)==null?void 0:Z.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])):a.value.type==="radio-group"?(l(),i(u,v({key:3,onChange:e[7]||(e[7]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[8]||(e[8]=t=>s.value=t)},a.value.attrs),{default:k(()=>{var t,p;return[((p=(t=a.value)==null?void 0:t.attrs)==null?void 0:p.type)==="button"?(l(!0),y(D,{key:0},U(a.value.options,(A,E)=>(l(),i(T,{disabled:A.disabled,value:A.value,key:E},{default:k(()=>[Y(S(A.label),1)]),_:2},1032,["disabled","value"]))),128)):(l(!0),y(D,{key:1},U(a.value.options,(A,E)=>(l(),i(f,{disabled:A.disabled,value:A.value,key:E},{default:k(()=>[Y(S(A.label),1)]),_:2},1032,["disabled","value"]))),128))]}),_:1},16,["modelValue"])):a.value.type==="checkbox-group"?(l(),i(C,v({key:4,onChange:e[9]||(e[9]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[10]||(e[10]=t=>s.value=t)},a.value.attrs),{default:k(()=>[(l(!0),y(D,null,U(a.value.options,(t,p)=>(l(),i($,v({disabled:t.disabled,value:t.value},O(re)(t,["label"]),{name:a.value.prop,key:p}),{default:k(()=>[B(o,{data:t.label},null,8,["data"])]),_:2},1040,["disabled","value","name"]))),128))]),_:1},16,["modelValue"])):a.value.type==="input-number"?(l(),i(I,v({key:5,onChange:e[11]||(e[11]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[12]||(e[12]=t=>s.value=t)},a.value.attrs),null,16,["modelValue"])):a.value.type==="switch"?(l(),i(z,v({key:6,onChange:e[13]||(e[13]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[14]||(e[14]=t=>s.value=t)},a.value.attrs),null,16,["modelValue"])):a.value.type==="cascader"?(l(),i(be,v({key:7,class:{"f-1":a.value.before||a.value.after},onChange:e[15]||(e[15]=t=>r("change",a.value.prop,t)),onClear:e[16]||(e[16]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[17]||(e[17]=t=>s.value=t),options:a.value.options},a.value.attrs),F({_:2},[U((te=(ee=a.value)==null?void 0:ee.attrs)==null?void 0:te.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue","options"])):a.value.type==="custom"?Ce(n.$slots,"custom",{key:8,field:a.value},()=>[Ie("div",je," 【自定义】"+S(`${a.value.label}（${a.value.prop})`),1)],!0):a.value.type==="BaseNumberRange"?(l(),i(ye,v({key:9,class:{"f-1":a.value.before||a.value.after},onChange:e[18]||(e[18]=(t,p)=>r("change",t,p)),onClear:e[19]||(e[19]=(t,p)=>r("change",t,p)),size:n.size,modelValue:s.value,"onUpdate:modelValue":e[20]||(e[20]=t=>s.value=t)},a.value),null,16,["class","size","modelValue"])):a.value.type==="BaseUpload"?(l(),i(Ve,v({key:10,onChange:e[21]||(e[21]=t=>r("change",a.value.prop,t))},a.value.attrs,{modelValue:s.value,"onUpdate:modelValue":e[22]||(e[22]=t=>s.value=t)}),null,16,["modelValue"])):a.value.type==="autocomplete"?(l(),i(ke,v({key:11,class:{"f-1":a.value.before||a.value.after},onChange:e[23]||(e[23]=t=>r("change",a.value.prop,t)),onClear:e[24]||(e[24]=t=>r("change",a.value.prop,"")),modelValue:s.value,"onUpdate:modelValue":e[25]||(e[25]=t=>s.value=t)},a.value.attrs),F({_:2},[U((le=(ae=a.value)==null?void 0:ae.attrs)==null?void 0:le.slots,(t,p)=>({name:p,fn:k(()=>[B(o,{data:t},null,8,["data"])])}))]),1040,["class","modelValue"])):a.value.type==="slider"?(l(),i(xe,v({key:12,class:{"f-1":a.value.before||a.value.after},onChange:e[26]||(e[26]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[27]||(e[27]=t=>s.value=t)},a.value.attrs),null,16,["class","modelValue"])):a.value.type==="checkbox"?(l(),i($,v({key:13,onChange:e[28]||(e[28]=t=>r("change",a.value.prop,t)),modelValue:s.value,"onUpdate:modelValue":e[29]||(e[29]=t=>s.value=t)},a.value.attrs),null,16,["modelValue"])):a.value.type==="empty"?(l(),y("div",v({key:14,class:"empty"},a.value.attrs),null,16)):(l(),y("div",Le,"【不存在】"+S(a.value.type),1)),a.value.after?(l(),y("div",qe,[B(o,{data:a.value.after},null,8,["data"])])):j("",!0)],64)),a.value.tips?(l(),y("div",{key:2,class:"show-tips",innerHTML:"注："+a.value.tips},null,8,Ee)):j("",!0)],64))]}),_:3},16,["class"])}}});const Ke=Re(Ye,[["__scopeId","data-v-fafe0606"]]);export{Ke as default};
