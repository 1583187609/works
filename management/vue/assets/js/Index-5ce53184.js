import{d as e,ah as t,o as l,c as a,a8 as s,F as o,O as n,P as i,S as d,a as r,U as u,T as c,u as p,I as m,a3 as v,e as f,_ as h,j as b,f as y,V as _,K as g,bm as k,bk as x,B as w,i as j,J as I,n as V,D as C,L as E,Q as T,W as B,H as A,X as S,R as z,aD as M,ag as P}from"./@vue-022d9836.js";import{M as D,n as O,W as L,X as R,r as U,Y as F,Z as q,R as N,i as W,_ as H}from"./@element-plus-91223246.js";import{a as K,u as Q}from"./vue-router-e17d6507.js";import{_ as G,N as $,O as X,P as Y,k as J,Q as Z,v as ee,D as te,R as le,S as ae,w as se,z as oe,T as ne,U as ie,V as de,W as re,X as ue,Y as ce,s as pe}from"./index-8cf28f90.js";import{D as me}from"./vuedraggable-5a66f57a.js";import"./dayjs-21617033.js";import"./lodash-8dc1f9dc.js";import"./nprogress-b5e58671.js";import{E as ve,e as fe,d as he}from"./element-plus-6dad9269.js";import{_ as be}from"./BaseEmpty.vue_vue_type_style_index_0_lang-b0e2550c.js";import ye from"./SectionForm-c0c5891b.js";import{s as _e}from"./screenfull-c82f2093.js";import{k as ge}from"./driver.js-ec462bd9.js";import"./xlsx-c1bdd32b.js";import"./qs-fd29a741.js";import"./call-bind-ada3a9fc.js";import"./get-intrinsic-176af07e.js";import"./es-errors-c8ed318b.js";import"./has-symbols-456daba2.js";import"./has-proto-c2a23985.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-968dc075.js";import"./define-data-property-9d7bf764.js";import"./es-define-property-c2edbfb6.js";import"./gopd-16a4ddf0.js";import"./has-property-descriptors-52e43c9d.js";import"./side-channel-5a41c40a.js";import"./object-inspect-0d550a97.js";import"./axios-86de682d.js";import"./pinia-f80f4126.js";import"./mock-ada1f893.js";import"./mockjs-217213d3.js";import"./vite-plugin-mock-6db8ade2.js";import"./path-to-regexp-83a43451.js";import"./lodash-es-d4f5f48c.js";import"./@vueuse-c70f8764.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-3c499e77.js";import"./vue-d5d5c4b6.js";import"./_utils-f23ae63f.js";import"./FooterBtns-bbeb9770.js";import"./index-0a44dd7a.js";import"./_config-c0994392.js";const ke={name:"Quick Admin",private:!0,version:"1.0.0",type:"module",scripts:{serve:"vite",dev:"vite --mode dev",test:"vite --mode test",pre:"vite --mode pre",prod:"vite --mode prod",build:"vue-tsc && vite build","build:dev":"vue-tsc && vite build --mode dev","build:test":"vue-tsc && vite build --mode test","build:pre":"vue-tsc && vite build --mode pre","build:prod":"vue-tsc && vite build --mode prod","build:simple":"vite build",preview:"vite preview",lint:"eslint src --fix --ext .ts,.tsx,.vue,.js,.jsx",format:'prettier --write "**/*.{js,jsx,ts,tsx,css,vue}"',"ls-lint":"ls-lint",api:"node ./scripts/api/index.js",apisya:"node ./scripts/api/ya.js",vue:"node ./scripts/test/index.js",imgs:"node ./scripts/images.js"},dependencies:{"@wangeditor/editor-for-vue":"^5.1.12",axios:"^1.3.2",dayjs:"^1.11.7","driver.js":"^1.3.1",echarts:"^5.4.1","echarts-liquidfill":"^3.1.0","element-plus":"^2.3.8","js-md5":"^0.7.3",lodash:"^4.17.21",nprogress:"^0.2.0",pinia:"^2.1.7",qs:"^6.11.1",screenfull:"^6.0.2",sortablejs:"^1.15.2","vite-plugin-html":"^3.2.0","vite-plugin-mock":"^2.9.6",vue:"^3.3.4","vue-router":"^4.2.4",vuedraggable:"^4.1.0",xlsx:"^0.18.5"},devDependencies:{"@types/js-md5":"^0.7.0","@types/node":"^18.13.0","@typescript-eslint/eslint-plugin":"^5.56.0","@typescript-eslint/parser":"^5.56.0","@vitejs/plugin-vue":"^4.0.0",eslint:"^7.23.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-vue":"^9.9.0",mockjs:"^1.1.0",prettier:"^2.8.6","rollup-plugin-visualizer":"^5.12.0",sass:"^1.58.0",typescript:"^4.9.3","unplugin-generate-component-name":"^0.2.0",vite:"^4.1.0","vite-plugin-eslint":"^1.8.1","vite-plugin-imagemin":"^0.6.1","vue-tsc":"^1.0.24"}},xe=G(e({name:"SubMenu",props:{data:{default:()=>[]}},setup(e){const p=K();return(e,m)=>{const v=t("BaseIcon"),f=t("SubMenu",!0),h=t("el-sub-menu"),b=t("el-menu-item");return l(!0),a(o,null,s(e.data,((e,t)=>{var s;return l(),a(o,{key:t},[(null==(s=e.children)?void 0:s.length)?(l(),n(h,{key:0,index:e.path},{title:i((()=>[e.icon?(l(),n(v,{key:0,size:"1.4em",name:e.icon},null,8,["name"])):d("",!0),r("span",null,u(e.label),1)])),default:i((()=>{var t;return[(null==(t=e.children)?void 0:t.length)?(l(),n(f,{key:0,data:e.children},null,8,["data"])):d("",!0)]})),_:2},1032,["index"])):(l(),a(o,{key:1},[2!==e.type?(l(),n(b,{key:0,onClick:t=>function(e){const{link_type:t,path:l,label:a}=e;if(t){if(p.push({name:"innerLink",query:{url:l}}),1===t)return document.title=a;if(2===t)return window.open(l,"_blank");throw new Error(`暂不支持code为${t}的外链类型`)}p.push(l),document.title=a}(e),index:e.path,disabled:e.disabled},{title:i((()=>[c(u(e.label),1)])),default:i((()=>[e.icon?(l(),n(v,{key:0,size:"1.4em",name:e.icon},null,8,["name"])):d("",!0)])),_:2},1032,["onClick","index","disabled"])):d("",!0)],64))],64)})),128)}}}),[["__scopeId","data-v-5b686fdc"]]),we=G(e({__name:"Index",props:{defaultOpeneds:{},map:{},menus:{},effect:{default:"dark"}},setup(e){const{navBgDark:a,navTextColorLight:s,navBgLight:o}=J,d=e,r=Q(),u=$(),c=X(),m=Y();function v(){"columns"===m.layout.type&&(u.isFold=!1)}return c.initMenusActive(r.path),(e,f)=>{const h=t("BaseEmpty"),b=t("el-menu");return l(),n(b,{class:"side-menu all-hide-scroll","background-color":"dark"===e.effect?p(a):p(o),"text-color":"dark"===e.effect?p(s):p(o),collapse:p(u).isFold,"default-active":p(r).path,"default-openeds":e.defaultOpeneds,"unique-opened":!!p(m).menu.uniqueOpened,onClick:v,router:!1},{default:i((()=>{var e;return[(null==(e=d.menus??p(c).allMenus)?void 0:e.length)?(l(),n(xe,{key:0,data:d.menus??p(c).allMenus},null,8,["data"])):(l(),n(h,{key:1,tips:"无",size:"32"}))]})),_:1},8,["background-color","text-color","collapse","default-active","default-openeds","unique-opened"])}}}),[["__scopeId","data-v-8f19b218"]]),je={class:"f-c-c"},Ie={class:"text line-1"},Ve=G(e({__name:"PageTagItem",props:{icon:{},active:{type:Boolean,default:!1},closable:{type:Boolean,default:!0}},emits:["contextmenu"],setup(e,{emit:a}){const s=a;function o(e){s("contextmenu",e)}return(e,a)=>{const s=t("BaseIcon"),u=t("el-tag");return l(),n(u,{class:"route-tag",effect:e.active?"dark":"light",onContextmenu:v(o,["prevent"]),closable:e.closable},{default:i((()=>[r("div",je,[e.icon?(l(),n(s,{key:0,class:"mr-4",size:"1.2em",name:e.icon},null,8,["name"])):d("",!0),r("span",Ie,[m(e.$slots,"default",{},void 0,!0)])])])),_:3},8,["effect","closable"])}}}),[["__scopeId","data-v-117a11a2"]]),Ce=(e=>(k("data-v-49a29c80"),e=e(),x(),e))((()=>r("div",{class:"dot"},null,-1))),Ee=G(e({__name:"DropMenu",props:{data:{},currInd:{default:-1},total:{default:0}},emits:["menuItem"],setup(e,{emit:d}){const r=[{text:"关闭",type:"closeIndex",divided:!1},{text:"关闭其他",type:"closeOthers",divided:!1},{text:"关闭到右侧",type:"closeRight",divided:!1},{text:"关闭到左侧",type:"closeLeft",divided:!1},{text:"全部关闭",type:"closeAll",divided:!1},{text:"复制路径",type:"copyPath",divided:!0},{text:"复制完整路径",type:"copyWholePath",divided:!1},{text:"刷新",type:"reload",divided:!0}],m=e,v=d,k=f(),x=f(!1);let w=h({});const j=h({isHome:!1,isFirst:!1,isLast:!1,isEmpty:!1,isOnly:!1}),I=b((()=>{const{isHome:e,isEmpty:t,isOnly:l,isLast:a,isFirst:s}=j,o={closeIndex:e,closeOthers:e?t:l,closeRight:a,closeLeft:e||s,closeAll:t,closeSaved:!0,copyPath:!1,copyWholePath:!1,reload:e};return e=>o[e]}));function V(e){x.value=e}return y((()=>({currInd:m.currInd,total:m.total})),(e=>{const{currInd:t,total:l}=e;j.isHome=-1===t,j.isFirst=0===t,j.isLast=t===l-1,j.isEmpty=0===l,j.isOnly=1===l}),{immediate:!0}),y((()=>m.data),(e=>{const{width:t,height:l,left:a,top:s}=e;w={height:0,width:0,left:a+t/2+"px",top:s+l+"px"},k.value.handleOpen()}),{deep:!0}),(e,d)=>{const f=t("el-dropdown-item"),h=t("el-dropdown-menu"),b=t("el-dropdown");return l(),n(b,{ref_key:"dropRef",ref:k,class:"drop-menu",style:g(p(w)),trigger:"contextmenu",onVisibleChange:V,"hide-on-click":""},{dropdown:i((()=>[_(h,null,{default:i((()=>[(l(),a(o,null,s(r,((e,t)=>_(f,{onClick:t=>{return l=e.type,void v("menuItem",l,m.currInd);var l},divided:e.divided,disabled:I.value(e.type),key:t},{default:i((()=>[c(u(e.text),1)])),_:2},1032,["onClick","divided","disabled"]))),64))])),_:1})])),default:i((()=>[Ce])),_:1},8,["style"])}}}),[["__scopeId","data-v-49a29c80"]]),Te={class:"page-tags f-fs-c"},Be=["disabled"],Ae={class:"tags-box f-fs-c f-1"},Se=["disabled"],ze=G(e({__name:"Index",setup(e){const s=Z(),o=Y(),n=w("reloadView"),d={text:"首页",path:le},m=Q(),v=K(),h=f(!1),b=f(!0),g=f(!0),k=f(-1),x=f(-1),C=f(ee.getItem("pageTags")||[]),E=f(null);let T=f({});function B(e,t){var l;"closeIndex"===e?C.value.splice(t,1):"closeOthers"===e?C.value=-1===x.value?[]:C.value.slice(t,t+1):"closeRight"===e?C.value=C.value.slice(0,t+1):"closeLeft"===e?C.value=C.value.slice(t):"closeAll"===e?(C.value=[],v.replace(le)):"reload"===e?(k.value=t,n()):"copyPath"===e?ae(null==(l=C.value[t])?void 0:l.path):"copyWholePath"===e?ae(location.href):"closeSaved"===e?ve.warning("暂未开通关闭已保存功能"):ve.error("暂不支持此类型："+e),function(e){const t=C.value.length;let l=k.value;0===t?l=-1:e<l&&(l-=1),l<-1?l=-1:l>t-1&&(l=t-1),k.value=l,v.push(-1===l?le:C.value[l].path)}(t),M();const a=function(e){const t=e.map((e=>e.name));return s.list.filter((e=>!t.includes(e)))}(C.value);s.remove(a)}function A(e){const{newIndex:t}=e;k.value=t}function S(e,t=4){var l;const{deltaY:a}=e,s=null==(l=null==E?void 0:E.value)?void 0:l.targetDomElement,{scrollLeft:o}=s,n=o+a*t;s.scrollTo(n,0),M()}function z(e=1,t=300){var l;const a=null==(l=null==E?void 0:E.value)?void 0:l.targetDomElement,{scrollLeft:s}=a,o=s+t*e;a.scrollTo(o,0),M()}function M(){var e;const t=null==(e=null==E?void 0:E.value)?void 0:e.targetDomElement;if(!t)return;const{scrollWidth:l,clientWidth:a,offsetWidth:s,scrollLeft:o}=t,n=a||s;g.value=o+n>=l,b.value=o<=0}function P(e,t){v.push(e.path),k.value=t}function D(e,t){var l;T.value=null==(l=e.currentTarget)?void 0:l.getBoundingClientRect(),x.value=t}return te("resize",M),y(m,(e=>{var t,l;const{fullPath:a,query:s,path:o}=e,{title:n,tagIdKey:i="id",icon:d,linkType:r}=e.meta,u=null==(l=null==(t=e.matched.at(-1))?void 0:t.components)?void 0:l.default.name;!function(e){const{text:t,path:l,id:a}=e,s=C.value.find((e=>e.path===l));if(s){const e=C.value.findIndex((e=>e.path===l));k.value=e}else l!==le?("404"===t&&(e.text=l),a&&(e.text+=`(${a})`),C.value.push(e),k.value=C.value.length-1,M()):k.value=-1}({text:n,path:a,id:s[i],name:u,icon:d}),function(e){const t=C.value.findIndex((t=>t.path===e));V((()=>{var e;const l=null==(e=null==E?void 0:E.value)?void 0:e.targetDomElement;if(!l)return;const{offsetWidth:a,scrollLeft:s}=l,o=l.children[t];if(!o)return;const{offsetLeft:n,offsetWidth:i}=o;o.getBoundingClientRect();let d=n-(a-i)/2;l.scrollTo(d,0)}))}(a)}),{immediate:!0}),j((()=>{M(),window.addEventListener("beforeunload",(()=>{ee.setItem("pageTags",C.value)}))})),(e,s)=>{const n=t("BaseIcon");return l(),a("div",Te,[_(Ve,{class:"f-0 ml-h",icon:"House",path:p(le),active:-1===k.value,closable:!1,onClose:s[0]||(s[0]=e=>B("closeIndex",-1)),onClick:s[1]||(s[1]=e=>P(d,-1)),onContextmenu:s[2]||(s[2]=e=>D(e,-1))},{default:i((()=>[c("首页")])),_:1},8,["path","active"]),r("button",{onClick:s[3]||(s[3]=e=>z(-1)),class:I(["btn f-c-c f-0",{disabled:b.value}]),disabled:b.value},[_(n,{size:"18",name:"DArrowLeft"})],10,Be),r("div",Ae,[_(p(me),{modelValue:C.value,"onUpdate:modelValue":s[4]||(s[4]=e=>C.value=e),animation:"300",onStart:s[5]||(s[5]=e=>h.value=!0),onEnd:s[6]||(s[6]=e=>h.value=!1),onUpdate:A,onMousewheelPassive:S,"item-key":"path",class:"f-1 scroll all-hide-scroll",ref_key:"scrollRef",ref:E},{item:i((({element:e,index:t})=>[_(Ve,{icon:p(o).pageTags.showIcon?e.icon:void 0,path:e.path,active:k.value===t,onClose:e=>B("closeIndex",t),onClick:l=>P(e,t),onContextmenu:e=>D(e,t)},{default:i((()=>[c(u(e.text),1)])),_:2},1032,["icon","path","active","onClose","onClick","onContextmenu"])])),_:1},8,["modelValue"]),_(Ee,{class:"f-0",currInd:x.value,total:C.value.length,data:p(T),onMenuItem:B},null,8,["currInd","total","data"])]),r("button",{onClick:s[7]||(s[7]=e=>z(1)),class:I(["btn f-c-c f-0",{disabled:g.value}]),disabled:g.value},[_(n,{size:"18",name:"DArrowRight"})],10,Se)])}}}),[["__scopeId","data-v-b4fd1491"]]),Me=e({__name:"UserInfo",setup(e){const{getOpts:a}=se(),s=a("Gender"),o=f(!1);let d=h(oe());const r=b((()=>[{prop:"avatar",label:"头像",type:o.value?"BaseUpload":"custom",attrs:{disabled:!o.value}},{prop:"account",label:"账号名称",attrs:{disabled:!0}},{prop:"name",label:"用户名称",attrs:{disabled:!0,maxlength:10}},{prop:"type_text",label:"用户类型",attrs:{disabled:!0}},{prop:"gender",label:"性别",type:"radio-group",options:s,attrs:{type:"button",disabled:!0}},{prop:"nickname",label:"用户昵称",attrs:{maxlength:10,disabled:!o.value}},{prop:"phone",label:"电话号码",valid:"phone",attrs:{disabled:!o.value}},...o.value?[{prop:"password",label:"新密码",valid:"password",attrs:{type:"password"}},{prop:"rePassword",label:"确认密码",valid:"password",rules:[{validator:u,trigger:"blur"}],attrs:{type:"password"}}]:[]]));function u(e,t,l){t!==d.password?l(new Error("密码和确认密码需要保持一致")):l()}function c(e){ie({edit:()=>o.value=!0,view:()=>{o.value=!1}},e)}return(e,a)=>{const s=t("BaseAvatar"),u=t("BaseForm");return l(),n(u,{style:{width:"400px"},fields:r.value,modelValue:p(d),"onUpdate:modelValue":a[0]||(a[0]=e=>C(d)?d.value=e:d=e),fetch:p(ne),moreBtns:[o.value?{name:"view",text:"查看"}:{name:"edit",text:"修改"}],submitText:o.value?void 0:"",resetText:o.value?void 0:"",onMoreBtns:c},{avatar:i((()=>[_(s,{src:p(d).avatar,size:"100"},null,8,["src"])])),_:1},8,["fields","modelValue","fetch","moreBtns","submitText","resetText"])}}}),Pe=e=>(k("data-v-a648f80a"),e=e(),x(),e),De={key:0,class:"list"},Oe={class:"content"},Le={class:"title"},Re=Pe((()=>r("span",{class:"time-ago"},"一分钟前",-1))),Ue=G(e({__name:"Notices",setup(e){const d=f("first");return(e,c)=>{const p=t("BaseImg"),m=t("el-tab-pane"),v=t("el-tabs");return l(),n(v,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=e=>d.value=e)},{default:i((()=>[_(m,{label:"通知(5)",name:"first"},{default:i((()=>[(l(),a("div",De,[(l(),a(o,null,s(5,((e,t)=>r("div",{class:"item",key:t},[_(p,{class:"icon"}),r("div",Oe,[r("span",Le,"这是通知（"+u(t+1)+"）",1),Re])]))),64))]))])),_:1}),_(m,{label:"消息(0)",name:"second"},{default:i((()=>[(l(),n(be,{key:1}))])),_:1}),_(m,{label:"待办(0)",name:"third"},{default:i((()=>[(l(),n(be,{key:1}))])),_:1})])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-a648f80a"]]),Fe=e=>(k("data-v-ffc81cbb"),e=e(),x(),e),qe={class:"layout-style f-sb-fs-w"},Ne=["onClick"],We=Fe((()=>r("div",{class:"menu box f-0"},null,-1))),He=Fe((()=>r("div",{class:"side box f-0"},null,-1))),Ke=Fe((()=>r("div",{class:"f-fs-s-c f-1"},[r("div",{class:"side box f-0 right"},"1"),r("div",{class:"main box f-1"})],-1))),Qe=Fe((()=>r("div",{class:"menu box f-0"},null,-1))),Ge=Fe((()=>r("div",{class:"f-sb-s f-1"},[r("div",{class:"side box f-0"}),r("div",{class:"main box f-1"})],-1))),$e=Fe((()=>r("div",{class:"menu box f-0"},null,-1))),Xe=Fe((()=>r("div",{class:"main box f-1"},null,-1))),Ye=Fe((()=>r("div",{class:"menu box f-0"},null,-1))),Je=Fe((()=>r("div",{class:"main box f-1"},null,-1))),Ze=G(e({__name:"LayoutStyle",props:{modelValue:{default:"vertical"}},emits:["update:modelValue"],setup(e,{emit:n}){const u={columns:{name:"分栏",class:"f-sb-s"},classics:{name:"经典",class:"f-fs-s-c"},vertical:{name:"纵向",class:"f-sb-s"},horizontal:{name:"横向",class:"f-fs-s-c"}},c={placement:"top",showAfter:200},p=e,m=n;$();const v=Y(),f=b({get:()=>p.modelValue,set(e){m("update:modelValue",e)}});return(e,n)=>{const p=t("el-tooltip");return l(),a("div",qe,[(l(),a(o,null,s(u,((e,t)=>_(p,E({content:e.name},c,{key:t}),{default:i((()=>[r("div",{class:I(["item",{active:f.value==t,[e.class]:!0,[t]:!0}]),onClick:e=>{return l=t,f.value=l,void v.updateSet("layout",{type:l});var l}},["columns"===t?(l(),a(o,{key:0},[We,He,Ke],64)):"classics"===t?(l(),a(o,{key:1},[Qe,Ge],64)):"vertical"===t?(l(),a(o,{key:2},[$e,Xe],64)):"horizontal"===t?(l(),a(o,{key:3},[Ye,Je],64)):d("",!0)],10,Ne)])),_:2},1040,["content"]))),64))])}}}),[["__scopeId","data-v-ffc81cbb"]]),et=e({__name:"index",props:{_example_prop:{default:()=>({})}},setup(e){const a={activeText:"显示",inactiveText:"隐藏"},s=[J.colorPrimary,"#daa96e","#0c819f","#409eff","#27ae60","#ff5c93","#e74c3c","#fd726d","#f39c12","#9b59b6"],o=[{label:"大型",value:"large"},{label:"中等",value:"medium"},{label:"小型",value:"small"},{label:"迷你",value:"mini"}],d=[{label:"中文",value:"chinese"},{label:"英文",value:"english"}],r=Y(),u=g(de);let c=h(g(r));const m=b((()=>re(c,u))),v=f(Date.now()),y=b((()=>[{title:"显示设置",fields:[{prop:"layout_type",label:"布局风格",type:"custom"},{prop:"widget_size",label:"控件大小",type:"radio-group",options:o,attrs:{disabled:!0}},{prop:"language",label:"语言类型",type:"radio-group",options:d,attrs:{disabled:!0}},{prop:"bread",label:"面包屑",type:"switch",span:1===c.bread?8:void 0,attrs:a},1===c.bread&&{prop:"bread_icon",label:"图标",type:"switch",span:12,attrs:a},{prop:"page_tag",label:"页签栏",type:"switch",span:1===c.page_tag?8:void 0,attrs:a},1===c.page_tag&&{prop:"page_tag_icon",label:"图标",type:"switch",span:12,attrs:a},{prop:"footer",label:"页脚",type:"switch",popover:"页面底部的专利许可",attrs:{...a,disabled:!0}}]},{title:"主题设置",fields:[{prop:"theme_color",label:"主题颜色",type:"custom"},{prop:"dark_mode",label:"暗黑模式",type:"switch",attrs:{disabled:!0}}]},{title:"菜单设置",fields:[{prop:"unique_opened",label:"手风琴",type:"switch",popover:"启用后，只保持一个子菜单的展开"}]}]));function g(e){return{layout_type:e.layout.type,widget_size:e.layout.size,language:e.language.type,bread:e.breadcrumb.show,bread_icon:e.breadcrumb.showIcon,page_tag:e.pageTags.show,page_tag_icon:e.pageTags.showIcon,footer:e.footer.show,theme_color:e.theme.color,dark_mode:e.theme.darkMode,unique_opened:e.menu.uniqueOpened}}function k(e,t){"widget_size"===e?r.updateSet("layout",{size:t}):"language"===e?r.updateSet("language",{type:t}):"bread"===e?r.updateSet("breadcrumb",{show:t}):"bread_icon"===e?r.updateSet("breadcrumb",{showIcon:t}):"page_tag"===e?r.updateSet("pageTags",{show:t}):"page_tag_icon"===e?r.updateSet("pageTags",{showIcon:t}):"footer"===e?r.updateSet("footer",{show:t}):"dark_mode"===e?r.updateSet("theme",{darkMode:t}):"unique_opened"===e&&r.updateSet("menu",{uniqueOpened:t})}function x(e){r.updateSet("theme",{color:e})}function w(){Object.assign(c,u),r.resetDefault()}return(e,a)=>{const o=t("el-color-picker");return l(),n(ye,{style:{width:"370px"},modelValue:p(c),"onUpdate:modelValue":a[2]||(a[2]=e=>C(c)?c.value=e:c=e),sections:y.value,submitText:m.value?"恢复默认设置":"",resetText:"",onChange:k,onSubmit:w,key:v.value},{layout_type:i((()=>[_(Ze,{modelValue:p(c).layout_type,"onUpdate:modelValue":a[0]||(a[0]=e=>p(c).layout_type=e)},null,8,["modelValue"])])),theme_color:i((()=>[_(o,{predefine:s,onChange:x,modelValue:p(c).theme_color,"onUpdate:modelValue":a[1]||(a[1]=e=>p(c).theme_color=e),disabled:""},null,8,["modelValue"])])),_:1},8,["modelValue","sections","submitText"])}}}),tt=e({__name:"SystemInfo",setup(e){const{version:d,dependencies:r,devDependencies:m}=ke,{VITE_APP_NAME:v}={VITE_APP_NAME:"Quick Admin",VITE_BASE_URL:"http://127.0.0.1:5180",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1},f=[{prop:"name",label:"系统名称",class:"mb-h",pureText:!0},{prop:"description",label:"系统介绍",class:"mb-h",pureText:!0},{prop:"version",label:"版本号",type:"custom",class:"mb-h"},{prop:"depends",label:"生产环境依赖",type:"custom",class:"mb-h"},{prop:"devDepends",label:"开发环境依赖",type:"custom",class:"mb-h"}];let h={name:v,description:"这是系统介绍描述相关的内容展示这是系统介绍描述相关的内容展示这是系统介绍描述相关的内容展示这是系统介绍描述相关的内容展示",version:`production - ${d}`,depends:Object.entries(r),devDepends:Object.entries(m)};return(e,d)=>{const r=t("el-tag"),m=t("BaseKeyVal"),v=t("BaseForm");return l(),n(v,{style:{width:"500px"},"label-suffix":"：",fields:f,modelValue:p(h),"onUpdate:modelValue":d[0]||(d[0]=e=>C(h)?h.value=e:h=e),footer:!1},{version:i((()=>[_(r,null,{default:i((()=>[c(u(p(h).version),1)])),_:1})])),depends:i((()=>[(l(!0),a(o,null,s(p(h).depends,((e,t)=>(l(),n(m,{style:{width:"100%"},label:e[0],key:t},{default:i((()=>[_(r,{size:"small",type:"info"},{default:i((()=>[c(u(e[1]),1)])),_:2},1024)])),_:2},1032,["label"])))),128))])),devDepends:i((()=>[(l(!0),a(o,null,s(p(h).devDepends,((e,t)=>(l(),n(m,{style:{width:"100%"},label:e[0],key:t},{default:i((()=>[_(r,{size:"small",type:"info"},{default:i((()=>[c(u(e[1]),1)])),_:2},1024)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])}}}),lt=e({__name:"SearchMenu",props:{defaultKey:{default:"all"}},setup(e){const d=K(),r=w("closePopup"),u=e,c=X(),m=h([{label:"全部",value:"all"}]);c.allMenus.map(((e,t)=>{const{label:l,path:a}=e;m.push({label:l,value:a})}));const v=f(""),g=b((()=>{const{allMenus:e}=c;if("all"===k.value)return e;{const t=e.find((e=>e.path===k.value));return null==t?void 0:t.children}})),k=f(u.defaultKey),x=f();function j(e,t){return!e||t.label.includes(e)}function I(e,t,l,a){const{isLeaf:s,level:o}=t;("all"===k.value?o>1&&s:s)&&(d.push(e.path),null==r||r("dialog"))}return y(v,(e=>{x.value.filter(e)})),(e,d)=>{const r=t("el-option"),u=t("el-select"),c=t("el-button"),f=t("el-input");return l(),a(o,null,[_(f,{class:"mb-o",modelValue:v.value,"onUpdate:modelValue":d[1]||(d[1]=e=>v.value=e),placeholder:"请输入菜单关键字"},{prepend:i((()=>[_(u,{modelValue:k.value,"onUpdate:modelValue":d[0]||(d[0]=e=>k.value=e),placeholder:"请选择",style:{width:"8em"}},{default:i((()=>[(l(!0),a(o,null,s(m,((e,t)=>(l(),n(r,E(e,{key:t}),null,16)))),128))])),_:1},8,["modelValue"])])),append:i((()=>[_(c,{icon:p(D)},null,8,["icon"])])),_:1},8,["modelValue"]),_(p(fe),{ref_key:"treeRef",ref:x,data:g.value,"filter-node-method":j,onNodeClick:I},null,8,["data"])],64)}}}),at={class:"f-c-c"},st=G(e({__name:"PathBreadcrumb",props:{_example_prop:{default:()=>({})}},setup(e){const c=Q(),m=X(),v=Y(),h=f([{id:"0",icon:"House",path:le,label:"首页"}]);function b(e,t=[],l={}){for(const a of e)l[a.path]=[...t,a],a.children&&b(a.children,l[a.path],l);return l}return y(c,(e=>{const t=h.value.slice(0,1);e.path!==le&&t.push(...b(m.allMenus)[e.path]??[]),h.value=t}),{immediate:!0}),(e,c)=>{const m=t("BaseIcon"),f=t("el-breadcrumb-item"),b=t("el-breadcrumb");return h.value.length?(l(),n(b,{key:0,id:"breadcrumb",class:I(["path-breadcrumb",["columns","classics"].includes(p(v).layout.type)?"dark":"light"]),"separator-icon":p(O)},{default:i((()=>[(l(!0),a(o,null,s(h.value,((e,t)=>(l(),n(f,{to:t===h.value.length-1?void 0:e.path,key:t},{default:i((()=>[r("div",at,[p(v).breadcrumb.showIcon?(l(),n(m,{key:0,size:"1.2em",class:"mr-q",name:e.icon},null,8,["name"])):d("",!0),r("span",null,u(e.label),1)])])),_:2},1032,["to"])))),128))])),_:1},8,["class","separator-icon"])):d("",!0)}}}),[["__scopeId","data-v-fddedf7f"]]),ot=""+new URL("../imgs/svg/logo-4a748afd.svg",import.meta.url).href,nt={class:"ml-h"},it={class:"quick-entry f-0 ml-a"},dt={id:"user-simple-info",class:"user-info f-0 f-fe-c"},rt={class:"mr-h"},ut={class:"line-1 nickname"},ct={class:"version"},pt={class:"el-dropdown-link"},mt={key:0,class:"f-fs-c breadcrumb-box"},vt=G(e({__name:"Index",setup(e){const{VITE_APP_NAME:s}={VITE_APP_NAME:"Quick Admin",VITE_BASE_URL:"http://127.0.0.1:5180",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1},{initMap:m}=se(),v=X(),h=$(),b=ue(),y=Y(),g=f(null),k=w("openPopup");w("reloadView"),se();const x=oe(),C=K();Q();const T={showAfter:200,offset:6};async function B(){await m(),C.go(0),ve.success("刷新系统成功")}const A=f(_e.isFullscreen);function S(){_e.isEnabled||ve.warning("您的浏览器不支持全屏功能"),_e.toggle()}function z(){k("账号信息",{component:Me,attrs:{data:x}},"drawer")}function M(){he.confirm("确定退出登录吗？",{type:"warning"}).then((()=>b.handleLoginOut())).catch((()=>{}))}function P(){k({title:"搜索菜单",closeOnClickModal:!0},lt,"dialog",!1)}return j((()=>{V((()=>{_e.on("change",(()=>{A.value=_e.isFullscreen})),setTimeout((()=>{!function(){if(ee.getItem("hasGuide"))return;const e=ge({popoverClass:"guide-popover-card",allowClose:!0,stagePadding:4,nextBtnText:"下一步",prevBtnText:"上一步",doneBtnText:"知道了",onHighlighted(e){"user-simple-info"===e.id&&g.value.handleOpen()},onNextClick(t,l){e.moveNext(),"system-set"===t.id&&(g.value.handleClose(),ee.setItem("hasGuide",!0))},steps:[{element:"#collapse-icon",popover:{title:"折叠按钮",description:"展开或收起左侧或顶部菜单",side:"right"}},{element:"#breadcrumb",popover:{title:"面包屑路径",description:"指明当前页面所处位置",side:"right"}},{element:"#search-menu",popover:{title:"菜单搜索",description:"在这里可以搜索全局菜单",side:"left"}},{element:"#notice-entry",popover:{title:"消息通知",description:"在这里可以快速查看最新通知消息、待办任务等",side:"left"}},{element:"#fullscreen",popover:{title:"全屏展示",description:"在这里可以切换是否全屏展示",side:"left"}},{element:"#user-simple-info",popover:{title:"用户信息",description:"这是用户的基本信息，鼠标放上来可以查看更多",side:"left"}},{element:"#system-set",popover:{title:"系统设置",description:"在这里可以进行系统相关的设置",side:"left"}}]});e.drive()}()}),50)}))})),(e,m)=>{var f;const b=t("BaseImg"),w=t("BaseIcon"),j=t("el-button"),V=t("el-tooltip"),O=t("el-badge"),K=t("el-popover"),Q=t("BaseAvatar"),G=t("el-dropdown-item"),$=t("el-dropdown-menu"),X=t("el-dropdown");return l(),a("div",null,[r("div",{class:I(["header f-sb-c","vertical"===p(y).layout.type?"light":"dark"])},["horizontal"===p(y).layout.type?(l(),a("h1",{key:0,class:"h1 f-c-c",onClick:m[0]||(m[0]=e=>p(C).push({name:"home"}))},[_(b,{src:p(ot),size:"30",preview:!1},null,8,["src"]),r("div",nt,u(p(s)),1)])):d("",!0),_(w,{id:"collapse-icon",onClick:m[1]||(m[1]=e=>p(h).isFold=!p(h).isFold),class:I(["f-0 fold-btn","vertical"===p(y).layout.type?"dark":"light"]),size:"1.5em",name:p(h).isFold?"Expand":"Fold"},null,8,["class","name"]),"horizontal"===p(y).layout.type?(l(),n(we,{key:1,menus:p(v).allMenus,mode:"horizontal",class:"f-1 menu-nav"},null,8,["menus"])):(l(),a(o,{key:2},[p(y).breadcrumb.show?(l(),n(st,{key:0,class:"ml-o"})):d("",!0)],64)),r("div",it,[_(V,E(T,{content:"搜索菜单"}),{default:i((()=>[_(j,{id:"search-menu",onClick:P,icon:p(D),type:"primary",class:"item",plain:"",circle:""},null,8,["icon"])])),_:1},16),_(K,{placement:"bottom",width:310,trigger:"click"},{reference:i((()=>[_(O,{value:5,max:99,"show-zero":!1},{default:i((()=>[_(V,E(T,{content:"消息通知"}),{default:i((()=>[_(j,{id:"notice-entry",icon:p(L),type:"primary",class:"item",plain:"",circle:""},null,8,["icon"])])),_:1},16)])),_:1})])),default:i((()=>[_(Ue)])),_:1}),p(_e).isEnabled?(l(),n(V,E({key:0},T,{content:A.value?"取消全屏":"全屏展示"}),{default:i((()=>[_(j,{id:"fullscreen",onClick:S,icon:A.value?p(R):p(U),type:"primary",class:"item",plain:"",circle:""},null,8,["icon"])])),_:1},16,["content"])):d("",!0)]),r("div",dt,[r("div",rt,[r("div",ut,u(null==(f=p(x))?void 0:f.name),1),r("div",ct,u(p(ke).version),1)]),_(X,{ref_key:"dropdownRef",ref:g},{dropdown:i((()=>[_($,null,{default:i((()=>[_(G,null,{default:i((()=>[_(j,{onClick:z,style:{width:"100%"},icon:p(F),type:"info",link:""},{default:i((()=>[c("个人资料")])),_:1},8,["icon"])])),_:1}),_(G,null,{default:i((()=>[_(j,{onClick:B,style:{width:"100%"},icon:p(q),type:"info",link:""},{default:i((()=>[c("刷新系统")])),_:1},8,["icon"])])),_:1}),_(G,null,{default:i((()=>[_(j,{id:"system-set",onClick:m[2]||(m[2]=e=>p(k)({title:"系统设置",closeOnClickModal:!0},et,"drawer")),style:{width:"100%"},icon:p(N),type:"info",link:""},{default:i((()=>[c("系统设置")])),_:1},8,["icon"])])),_:1}),_(G,null,{default:i((()=>[_(j,{onClick:m[3]||(m[3]=e=>p(k)("关于系统",tt,"drawer")),style:{width:"100%"},icon:p(W),type:"info",link:""},{default:i((()=>[c("关于系统")])),_:1},8,["icon"])])),_:1}),_(G,{divided:""},{default:i((()=>[_(j,{onClick:M,style:{width:"100%"},icon:p(H),type:"primary",link:""},{default:i((()=>[c("退出登录")])),_:1},8,["icon"])])),_:1})])),_:1})])),default:i((()=>{var e;return[r("span",pt,[_(Q,{src:null==(e=p(x))?void 0:e.avatar,size:"40",preview:!1,round:""},null,8,["src"])])]})),_:1},512)])],2),"horizontal"===p(y).layout.type&&p(y).breadcrumb.show?(l(),a("div",mt,[_(st)])):d("",!0),p(y).pageTags.show?(l(),n(ze,{key:1})):d("",!0)])}}}),[["__scopeId","data-v-968f87bb"]]),ft={key:0},ht=G(e({__name:"TheMenu",setup(e){const{VITE_APP_NAME:t}={VITE_APP_NAME:"Quick Admin",VITE_BASE_URL:"http://127.0.0.1:5180",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1},s=X(),o=$(),n=Y(),i=K();return Q(),(e,c)=>(l(),a("div",{class:I(["asider f-sb-s-c",{fold:p(o).isFold}])},[r("h1",{onClick:c[0]||(c[0]=e=>p(i).push("/")),class:"h1 f-0 f-c-c"},[p(o).isFold?(l(),a("div",ft,u(p(t).charAt(0)),1)):d("",!0),T(r("div",{class:"title line-1"},u(p(t)),513),[[B,!p(o).isFold]])]),_(we,{menus:"columns"===p(n).layout.type?p(s).sideMenus:void 0,class:"f-1"},null,8,["menus"])],2))}}),[["__scopeId","data-v-15de141c"]]),bt={class:"layout f-sb-s"},yt={key:0,class:"main-menu f-fs-s f-fs-c-c"},_t={class:"f-c-c-c f-0 logo"},gt={class:"list f-fs-c-c f-1 all-hide-scroll"},kt=["onClick"],xt={class:"text line-1"},wt={class:"f-1 f-sb-s-c",style:{width:"1px"}},jt={class:"container f-1 all-hide-scroll"},It=G(e({__name:"Index",setup(e){const c=Z(),m=X(),v=Y(),h=f(""),b=Q(),y=new Map;function g(e,t){if(!e)return;let l;const a=ce(t);return y.has(a)?l=y.get(a):(l={name:a,render:()=>P(e)},y.set(a,l),c.add(a)),P(l)}return A("reloadView",(function(e="刷新成功"){var t,l;const a=null==(l=null==(t=b.matched.at(-1))?void 0:t.components)?void 0:l.default.name;c.remove(a),h.value=" ",V((()=>{h.value="",V((()=>{pe(e)}))}))})),(e,f)=>{const b=t("BaseImg"),y=t("BaseIcon"),k=t("RouterView");return l(),a("div",bt,["horizontal"!==p(v).layout.type?(l(),a(o,{key:0},["columns"===p(v).layout.type?(l(),a("div",yt,[r("div",_t,[_(b,{src:p(ot),size:"60%",style:{"border-radius":"0"},to:{name:"home"}},null,8,["src"])]),r("ul",gt,[(l(!0),a(o,null,s(p(m).allMenus,((e,t)=>(l(),a("li",{class:I(["item f-c-c-c",{active:p(m).activeIndex===t}]),onClick:e=>p(m).changeActiveIndex(t),key:t},[_(y,{size:"20",name:e.icon},null,8,["name"]),r("span",xt,u(e.label),1)],10,kt)))),128))])])):d("",!0),_(ht,{class:"f-0"})],64)):d("",!0),r("div",wt,[_(vt,{class:"f-0"}),r("div",jt,[_(k,null,{default:i((({Component:e,route:t})=>[_(S,{name:"main",mode:"out-in",appear:""},{default:i((()=>[(l(),n(M,{include:p(c).list,max:20},[(l(),n(z(g(e,t)),{key:h.value||t.fullPath}))],1032,["include"]))])),_:2},1024)])),_:1})])])])}}}),[["__scopeId","data-v-a3419f25"]]);export{It as default};
