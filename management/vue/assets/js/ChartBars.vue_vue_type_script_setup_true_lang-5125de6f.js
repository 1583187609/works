import"./echarts-911d2a7f.js";import{C as t,a as e,g as o}from"./Chart-cecd1307.js";import{l as s}from"./lodash-8dc1f9dc.js";import{d as i,j as a,o as r,O as n}from"./@vue-022d9836.js";import{V as l}from"./zrender-3442365c.js";const h=i({name:"ChartBars",__name:"ChartBars",props:{theme:{},height:{},width:{},titles:{default:()=>[]},units:{default:()=>[]},datas:{default:()=>[[["name","国内","国外"],["示例1",30,22],["示例2",14,42],["示例3",18,23]],[["name","国内","国外"],["示例1",23,62],["示例2",65,88],["示例3",66,48]]]},option:{default:()=>({})}},setup(i){const h={tooltip:{trigger:"item"},barWidth:12,barGap:"50%",grid:[{left:0,width:"47%",bottom:30,top:40,containLabel:!0},{right:0,width:"47%",bottom:30,top:40,containLabel:!0}]},d=i,m=a((()=>{const{datasets:t,newTitles:i,series:a,xAxis:r,yAxis:n}=function(){const[t,s,i,a,r]=[[],[],[],[],[]],{option:n,titles:h,units:m,datas:c}=d;return c.forEach(((n,d)=>{const c=h[d]||"XXX标题",u=m[d]||"元";s.push({gridIndex:d,left:0==d?"25%":"75%",bottom:0,textAlign:"center",text:`{label|${c}}  {amount|${p(n.slice(1))}${u}}`,textStyle:{rich:{label:{fontSize:14,fontWeight:"bold",color:"#666"},amount:{color:"#333",fontSize:15,fontWeight:"bold"}}}}),a.push({type:"category",gridIndex:d,...e}),r.push({type:"value",gridIndex:d,name:u,...e}),t.push({source:n});const f=n[0];for(let t=0;t<f.length-1;t++)i.push({type:"bar",xAxisIndex:d,yAxisIndex:d,datasetIndex:d,itemStyle:{color:new l(0,0,0,1,[{offset:0,color:o[t][0]},{offset:1,color:o[t][1]}]),borderRadius:[6,6,0,0]},label:{show:!0,position:"top",color:"#666",fontSize:14}})})),{datasets:t,newTitles:s,series:i,xAxis:a,yAxis:r}}(),{option:m}=d;return s.merge({},h,{title:i,grid:[{left:0,width:"47%",bottom:30,top:40,containLabel:!0},{right:0,width:"47%",bottom:30,top:40,containLabel:!0}],xAxis:r,yAxis:n,dataset:t,series:a},m)}));function p(t){let e=0;return t.forEach((t=>{for(let o=1;o<t.length;o++)e+=Number(t[o])})),e}return(e,o)=>(r(),n(t,{class:"chart-bars",option:m.value,height:e.height,width:e.width,theme:e.theme},null,8,["option","height","width","theme"]))}});export{h as _};
