var e,o,t;import"./dayjs-21617033.js";import{c as l,m as s,l as n,k as r,H as a,p as u,e as i}from"./index-8cf28f90.js";import p from"./GroupBtns-dfbc2150.js";import c from"./UserInfo-6031a43f.js";import{d,o as y,O as m,L as v,S as f,bd as k,u as B,ac as g,c as h,P as _,F as w,ah as x,a8 as C,T as b,U as V,V as j,I as $,a as I}from"./@vue-022d9836.js";import{_ as O}from"./BaseRender.vue_vue_type_script_setup_true_lang-100cb175.js";import{E as T}from"./element-plus-6dad9269.js";const G=d({__name:"CustomSpecialTableCols",props:{col:{},row:{}},setup:e=>(e,o)=>"UserInfo"===e.col.type?(y(),m(c,v({key:0,data:e.row[e.col.prop]},e.col.attrs),null,16,["data"])):f("",!0)}),L=d({name:"Column",__name:"Column",props:k({col:{},disabled:{type:Boolean},selection:{type:Boolean},refreshList:{type:Function},groupBtnsAttrs:{},getGroupBtnsOfRow:{type:Function}},Object.assign({},null==(t=null==(o=null==(e=l)?void 0:e.BaseCrud)?void 0:o._components)?void 0:t.Column)),emits:["groupBtn"],setup(e,{emit:o}){const t=e,l=o;let c;const d=(k=t.col,c=s(k.popover),delete k.popover,k);var k;function L(e,o){return i.includes(e[o])?"-":e[o]}function R(e,o,t=0){const l=o.split(u),s=null==e?void 0:e[null==l?void 0:l[t]];return void 0===s?a("未联调"):i.includes(s)?"-":s}return(e,o)=>{var s;const i=x("el-table-column"),k=x("Column",!0),A=x("BaseIcon"),F=x("el-popover"),U=x("el-switch"),S=x("BaseTag"),K=x("BaseImg"),Q=x("BaseText"),z=x("BaseCopy");return B(d).type&&["index","selection"].includes(B(d).type)?(y(),m(i,g(v({key:0},B(d))),null,16)):(y(),h(w,{key:1},[(null==(s=B(d).children)?void 0:s.length)?(y(),m(i,v({key:0},B(n)(B(d),["children"]),{"reserve-selection":e.selection}),{default:_((()=>{var o;return[(y(!0),h(w,null,C(null==(o=B(d))?void 0:o.children,((o,t)=>(y(),m(k,{col:o,selection:e.selection,refreshList:e.refreshList,groupBtnsAttrs:e.groupBtnsAttrs,getGroupBtnsOfRow:e.getGroupBtnsOfRow,disabled:e.disabled,key:t},null,8,["col","selection","refreshList","groupBtnsAttrs","getGroupBtnsOfRow","disabled"])))),128))]})),_:1},16,["reserve-selection"])):(y(),h(w,{key:1},[B(d).formatter?(y(),m(i,v({key:0},B(d),{formatter:B(d).formatter,"reserve-selection":e.selection}),{header:_((({column:e,$index:o,store:t})=>[b(V(e.label)+" ",1),B(c)?(y(),m(F,g(v({key:0},B(c))),{reference:_((()=>[j(A,{color:B(r).colorInfo,name:"QuestionFilled"},null,8,["color"])])),_:1},16)):f("",!0)])),_:1},16,["formatter","reserve-selection"])):(y(),m(i,v({key:1},B(d),{"reserve-selection":e.selection}),{header:_((({column:e,$index:o,store:t})=>[b(V(e.label)+" ",1),B(c)?(y(),m(F,g(v({key:0},B(c))),{reference:_((()=>[j(A,{color:B(r).colorInfo,name:"QuestionFilled"},null,8,["color"])])),_:1},16)):f("",!0)])),default:_((({row:o,column:s,$index:r})=>{var i,c,f,k;return[B(d).type?"operate"===B(d).type?(y(),m(p,v({key:1,row:{...o,$index:r},btns:null==(i=e.getGroupBtnsOfRow)?void 0:i.call(e,o,r)},e.groupBtnsAttrs,{onClick:(e,t)=>function(e,{row:o,col:t,$index:s},n){l("groupBtn",e,{row:o,col:t,$index:s},n)}(e,{row:o,col:B(d),$index:r},t)}),null,16,["row","btns","onClick"])):"sort"===B(d).type?(y(),m(A,{key:2,name:"Sort",size:"1.2em"})):["id","remark"].includes(B(d).type)?(y(),h(w,{key:3},[b(V((null==o?void 0:o[B(d).prop])||"-"),1)],64)):"custom"===B(d).type?$(e.$slots,"custom",g(v({key:4},{row:o,col:B(d),ind:r}))):["create","update"].includes(B(d).type)?(y(),h(w,{key:5},[(null==(c=B(d).prop)?void 0:c.includes(B(u)))?(y(),h(w,{key:0},[I("div",null,[j(O,{data:R(o,B(d).prop,0)},null,8,["data"])]),I("div",null,[j(O,{data:R(o,B(d).prop,1)},null,8,["data"])])],64)):(y(),h(w,{key:1},[b(V((null==o?void 0:o[B(d).prop])||"-"),1)],64))],64)):"switch"===B(d).type?(y(),h(w,{key:6},[(null==(k=null==(f=B(d))?void 0:f.attrs)?void 0:k.fetch)?(y(),m(U,v({key:0,modelValue:o[B(d).prop]},B(n)(B(d).attrs,["onChange"]),{onChange:e=>function(e,o,l){const{attrs:s={}}=e,{fetch:n,idKeys:r=["id","id"],statusKey:a="status"}=s,u=(null==s?void 0:s.activeValue)===o[a]?"in":"";-1!==l&&(null==n||n({[r[0]]:o[r[1]],[a]:null==s?void 0:s[u+"activeValue"]}).then((()=>{var e;T.success(`${null==s?void 0:s[u+"activeText"]}成功`),null==(e=t.refreshList)||e.call(t)})))}(B(d),o,r)}),null,16,["modelValue","onChange"])):(y(),m(U,v({key:1,modelValue:o[B(d).prop],"onUpdate:modelValue":e=>o[B(d).prop]=e},B(d).attrs),null,16,["modelValue","onUpdate:modelValue"]))],64)):"BaseTag"===B(d).type?(y(),m(S,v({key:7,value:o[B(d).prop]},B(d).attrs),null,16,["value"])):"BaseImg"===B(d).type?(y(),h(w,{key:8},[o[B(d).prop]?(y(),m(K,v({key:0,style:{margin:"0 auto"},src:o[B(d).prop]},B(d).attrs),null,16,["src"])):(y(),h(w,{key:1},[b("-")],64))],64)):"BaseText"===B(d).type?(y(),m(Q,g(v({key:9},B(d).attrs)),{default:_((()=>[b(V(o[B(d).prop]||"-"),1)])),_:2},1040)):"BaseCopy"===B(d).type?(y(),m(z,v({key:10,text:o[B(d).prop]},B(d).attrs),null,16,["text"])):(y(),m(G,{key:11,row:o,col:B(d)},null,8,["row","col"])):(y(),h(w,{key:0},[void 0===o[B(d).prop]?(y(),m(O,{key:0,data:B(a)("未联调")},null,8,["data"])):(y(),h(w,{key:1},[b(V(L(o,B(d).prop)),1)],64))],64))]})),_:3},16,["reserve-selection"]))],64))],64))}}});export{L as _};
