import{M as e,bO as a,aK as t,aM as s,aR as r,aE as p,s as o,bx as l,I as d,bc as u,af as i,aq as n}from"./index-3bafcaf7.js";import{d as m,e as c,f as b,g as x}from"./user-81aad310.js";import f from"./UploadAvatar-ffc6ab82.js";const y=e({__name:"AddEdit",props:{id:{},pureText:{type:Boolean},refreshList:{}},setup(e){const{getOpts:y}=a(),h=y("Sex"),q=y("UserType"),g=y("Enable"),v=y("address"),V=e,{id:T}=V;let U=t(V.id?{}:{sex:0,status:1});const j=s([{prop:"avatar",label:"头像",required:!1,type:"custom"},{prop:"nickname",label:"昵称",required:!1,attrs:{maxlength:16}},{prop:"name",label:"姓名",attrs:{maxlength:6}},{prop:"sex",label:"性别",type:"radio-group",options:h,attrs:{type:"button"}},{prop:"age",label:"年龄",type:"input-number",attrs:{min:0,max:150}},{prop:"type",label:"类型",type:"select",required:!1,options:q},{prop:"status",label:"状态",type:"radio-group",required:!1,options:g,attrs:{type:"button"}},{prop:"address",label:"地址",required:!1,type:"cascader",attrs:{style:"width: 100%",options:v}},{prop:"phone",label:"电话",required:!0,valid:"phone"}]);return T&&m({id:T}).then((e=>{Object.assign(U,e)})),(e,a)=>{const t=r("BaseForm");return p(),o(t,{request:u(c),modelValue:u(U),"onUpdate:modelValue":a[0]||(a[0]=e=>i(U)?U.value=e:U=e),style:n({width:e.pureText?"350px":"500px"}),fields:j.value,pureText:e.pureText,fetch:u(T)?u(b):u(x),fetchSuccess:e.refreshList},{avatar:l((({form:e})=>[d(f,{modelValue:e.avatar,"onUpdate:modelValue":a=>e.avatar=a},null,8,["modelValue","onUpdate:modelValue"])])),_:1},8,["request","modelValue","style","fields","pureText","fetch","fetchSuccess"])}}});export{y as _};
