import{M as B,bJ as b,q as p,aR as d,aE as a,s as m,bx as u,v as r,I as f,b3 as n,H as k,ao as T,u as g,t as C,am as S,bc as P,cv as h,bH as V}from"./index-8b36bd1b.js";const N="/assets/img-58556f8d.png",R={class:"err-box f-c-c-c"},E={class:"tips"},H={key:1,class:"err-box f-c-c-c"},L={key:0,class:"tips"},M=B({__name:"BaseImg",props:{size:{},sizeType:{default:"default"},width:{},height:{},src:{},fit:{default:"cover"},round:{type:Boolean},to:{},initialIndex:{},zoomRate:{},stopPropagation:{type:Boolean},preview:{type:Boolean,default:i=>i.to===void 0},loadTips:{default:"玩命加载中…"},errTips:{default:"加载失败"},errImgSrc:{}},emits:["click","error"],setup(i,{emit:v}){const l={large:26,default:22,small:18},_=b(),s=i,c=v,y=p(()=>s.preview?{previewSrcList:[s.src]}:{}),I=p(()=>({height:h(s.size||s.height),width:h(s.size||s.width)}));function z(e){const{preview:w,to:t,stopPropagation:o}=s;t?_.push(t):c("click"),o&&e.stopImmediatePropagation()}return(e,w)=>{const t=d("BaseIcon"),o=d("el-image");return a(),m(o,S({onClick:z,class:["base-img",{round:e.round,to:!!e.to,empty:!e.src}],src:e.src||P(N),fit:e.fit,style:I.value,initialIndex:e.initialIndex},y.value,{"preview-teleported":"","hide-on-click-modal":""}),{placeholder:u(()=>[r("div",R,[f(t,{class:"rotate",size:l[e.sizeType],name:"Loading"},null,8,["size"]),r("span",E,n(e.loadTips),1)])]),error:u(()=>[r("template",null,[k(n(c("error")),1)]),e.errImgSrc?(a(),m(o,{key:0,class:T(["base-img",{round:e.round}]),src:e.errImgSrc,fit:e.fit,"preview-teleported":""},null,8,["class","src","fit"])):(a(),g("div",H,[f(t,{size:l[e.sizeType],name:"Picture"},null,8,["size"]),e.errTips?(a(),g("span",L,n(e.errTips),1)):C("",!0)]))]),_:1},16,["class","src","fit","style","initialIndex"])}}});const A=V(M,[["__scopeId","data-v-43e2b88e"]]);export{A as default};
