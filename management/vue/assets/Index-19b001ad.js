var e;import{cg as a,cc as l,ch as t,c8 as u,M as o,q as r,aM as s,s as n,bx as d,am as i,aR as p,aS as v,aE as c,I as m,bc as g,ap as f,ci as b,ao as h,t as y,u as V,F as k,H as x,b3 as T,bz as w,A as $,aP as C,cj as U,aQ as D,v as _,bZ as B,ck as P,c3 as j,cl as A,cm as S,bH as z}from"./index-31bd5f7b.js";import I from"./GroupList-be2f2955.js";import"./AddDelBtn-2eb941d7.js";import"./_utils-595c60d1.js";const M=null==(e=u)?void 0:e.form;a([{text:"今天",value:new Date},{text:"昨天",value:()=>{const e=new Date;return e.setTime(e.getTime()-864e5),e}},{text:"一周内",value:()=>{const e=new Date;return e.setTime(e.getTime()-6048e5),e}}],null==M?void 0:M.defaultDateShortcuts,"alert");const R=a([{text:"近一周",value:()=>{const e=new Date,a=new Date;return a.setTime(a.getTime()-6048e5),[a,e]}},{text:"近一个月",value:()=>{const e=new Date,a=new Date;return a.setTime(a.getTime()-2592e6),[a,e]}},{text:"近三个月",value:()=>{const e=new Date,a=new Date;return a.setTime(a.getTime()-7776e6),[a,e]}}],null==M?void 0:M.defaultDateRangeShortcuts,"alert"),q=a({input:{attrs:{placeholder:"请输入${label}",clearable:!0,showWordLimit:!0}},select:{attrs:{style:{width:"100%"},clearable:!0,tagType:"primary",loadingText:"玩命加载中……",getAttrs(e){const{remote:a,multiple:l}=e.attrs||{};return{placeholder:a?"请输入关键字搜索${label}":"请选择${label}",...l?{collapseTags:!0,collapseTagsTooltip:!0,maxCollapseTags:2}:void 0}}}},cascader:{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},"date-picker":{attrs:{style:{width:"100%"},type:"daterange",rangeSeparator:l,valueFormat:"YYYY-MM-DD",placeholder:"请选择${label}",clearable:!0,getAttrs(e){const{attrs:a={}}=e,{type:l}=a,t={};if(l.includes("range")){const e={date:"日期",month:"月份",datetime:"时间"};t.startPlaceholder=`开始${e[l.slice(0,-5)]}`,t.endPlaceholder=`结束${e[l.slice(0,-5)]}`,"daterange"===l&&(t.shortcuts=R)}return t}}},switch:{attrs:{activeValue:0,inactiveValue:1,activeText:"启用",inactiveText:"禁用",inlinePrompt:!0}},"checkbox-group":{attrs:{},options:[{label:"多选项1"}]},"radio-group":{attrs:{type:"button"},options:[{label:"单选项-error"}]},pureText:{attrs:{style:{"line-height":"22px","margin-top":"4px"}}},"input-number":{attrs:{placeholder:"${label}"}},slider:{attrs:{}},autocomplete:{attrs:{style:{width:"100%"},placeholder:"请输入${label}",clearable:!0,showWordLimit:!0,fetchSuggestions(e,a){a([{label:e,value:e}])}}},"time-picker":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",rangeSeparator:l,clearable:!0}},"time-select":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},BaseNumberRange:{attrs:{style:{width:"100%"}}}},null==M?void 0:M.defaultFieldAttrs);a({},null==M?void 0:M.defaultPopoverAttrs);const F=a({phone:{rules:[{pattern:t.phone,message:"请输入正确的11位电话号码",trigger:"blur"}],attrs:{maxlength:11}},password:{rules:[{min:6,message:"密码长度不能小于6位",trigger:"blur"},{pattern:t.password,message:"请输入正确的6~16位字母 + 数字组合密码",trigger:"blur"}],attrs:{type:"password",maxlength:16,showPassword:!0}},identity:{rules:[{min:15,message:"身份证号长度不能小于15位",trigger:"blur"},{pattern:t.identity,message:"请输入正确的15/18位身份证号",trigger:"blur"}],attrs:{maxlength:18}},email:{rules:[{pattern:t.email,message:"请输入正确的邮箱地址",trigger:"blur"}]},age:{type:"input-number",attrs:{min:0,max:100},after:"岁"}},null==M?void 0:M.defaultValidTypes),N={key:0,class:"mr-h"},H={class:"err"},L={key:15,class:"err"},Y={key:16,class:"ml-h"},O=["innerHTML"],W={key:1,class:"f-fs-fs-w"},E=z(o({name:"BaseFormItem",inheritAttrs:!1,props:{prefixProp:{default:""},field:{},pureText:{type:Boolean},modelValue:{},className:{},inputDebounce:{type:Boolean},size:{}},emits:["update:modelValue","change"],setup(e,{emit:a}){const t=e,u=a,o=r({get:()=>t.modelValue,set(e){u("update:modelValue",e)}});let z;const M=s([]),R=r((()=>{var e,a;const{prefixProp:l,field:u,size:o}=t,{type:r,label:s,valid:n="",children:d}=u,i=n?F[n]:{},{type:p}=i,v=r||p||S,c=q[v],m=B.merge({type:v},c,i,u),g=(null==(a=null==(e=null==m?void 0:m.attrs)?void 0:e.getAttrs)?void 0:a.call(e,m))||{};B.merge(m,{attrs:g},u),z=P(m.popover),m.prop=`${l}${u.prop}`,(null==d?void 0:d.length)&&(M.value=d),m.rules=function(e,a=[]){const{label:l="",valid:t,required:u,children:o}=e,r=t?F[t]:{},s=[...r.rules||[],...u?[{required:u,message:l+"必填",trigger:"blur"}]:[],...a];return function(e=[]){let a=[];return e.forEach(((e,l)=>{const t=["required","min","max","pattern","validator"],{type:u}=e,o=a.findIndex(((a,l)=>{let o=!1;return o=u?a.type===u:!!t.find(((l,t)=>void 0!==e[l]&&void 0!==a[l])),o}));-1===o?a.push(e):a[o]=e})),a}(s)}(m,u.rules),m.attrs.placeholder=function(e){var a;const{label:l="",example:t}=e;let u=(null==(a=null==e?void 0:e.attrs)?void 0:a.placeholder)??"";u=u.replace("${label}",l),t&&(u+=`，例：${t}`);return u}(m);const{slots:f}=m.attrs;return"String"===j(f)&&(m.attrs.slots={default:f}),"small"===o&&"date-picker"===v&&(m.labelWidth=s.length+.5+"em"),delete m.popover,delete m.children,m}));function E(e,a){var u,o,r;const{type:s=S,label:n,attrs:d={},options:i=[],after:p=""}=e;if(["select","radio-group"].includes(s))a=null==(u=null==i?void 0:i.find((e=>e.value===a)))?void 0:u.label;else if(s.includes("Time")||s.includes("date")){const{format:e}=B.merge({},null==(o=q[s])?void 0:o.attrs,d),u="Array"===j(a),r=` ${l} `;a=t.pureText?u?a.join(r):a:u?a.map((a=>a.format(e))).join(r):null==a?void 0:a.format(e)}else if("checkbox-group"===s)a=null==(r=null==i?void 0:i.filter((e=>a.includes(e.value))))?void 0:r.map((e=>e.label)).join("，");else if("input-number"===s)a=a?a+p:"-";else if("switch"===s){const{activeText:e="是",inactiveText:l="否",activeValue:t}=d;a=t===a?e:l}else"checkbox"===s?a=a?"是":"否":"cascader"===s?a=A(null==d?void 0:d.options,a)||"-":"BaseNumberRange"===s?a=a.join(l):"custom"===s&&(a="-");return{label:n,value:a}}return(e,a)=>{const l=p("BaseRender"),r=p("BaseIcon"),s=p("el-popover"),B=p("el-input"),P=p("el-option"),j=p("el-select"),A=p("el-date-picker"),S=p("el-radio-button"),q=p("el-radio"),F=p("el-radio-group"),Q=p("el-checkbox"),G=p("el-checkbox-group"),K=p("el-input-number"),Z=p("el-switch"),J=p("el-cascader"),X=p("BaseNumberRange"),ee=p("BaseUpload"),ae=p("el-autocomplete"),le=p("el-slider"),te=p("BaseFormItem"),ue=p("el-form-item"),oe=v("debounce");return c(),n(ue,i({class:"base-form-item"},R.value,{class:[e.className,R.value.labelHide?"label-hide":""]}),{label:d((()=>[m(l,{data:R.value.label},null,8,["data"]),g(z)?(c(),n(s,f(i({key:0},g(z))),{reference:d((()=>[m(r,{color:g(b).colorInfo,class:h(["icon-popover",e.size]),name:"QuestionFilled"},null,8,["color","class"])])),_:1},16)):y("",!0)])),default:d((()=>{var r,s,p,v,b,h,z,ue,re,se;return[R.value.before?(c(),V("div",N,[m(l,{data:R.value.before},null,8,["data"])])):y("",!0),M.value.length?(c(),V(k,{key:2},["addDel"===R.value.type?(c(),n(I,{key:0,parentProp:R.value.prop,fields:M.value,pureText:e.pureText,modelValue:o.value,"onUpdate:modelValue":a[30]||(a[30]=e=>o.value=e)},null,8,["parentProp","fields","pureText","modelValue"])):(c(),V("div",W,[(c(!0),V(k,null,C(M.value,((a,l)=>(c(),n(te,i({prefixProp:R.value.prop+".",field:a,pureText:a.pureText||e.pureText,modelValue:o.value[a.prop],"onUpdate:modelValue":e=>o.value[a.prop]=e},a,{key:l}),null,16,["prefixProp","field","pureText","modelValue","onUpdate:modelValue"])))),128))]))],64)):(c(),V(k,{key:1},[R.value.pureText||e.pureText?(c(),V(k,{key:0},[x(T(E(R.value,o.value).value??"-"),1)],64)):(c(),V(k,{key:1},["input"===R.value.type?w((c(),n(B,i({key:0,class:{"f-1":R.value.before||R.value.after},onClear:a[0]||(a[0]=e=>u("change",R.value.prop,"")),modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),modelModifiers:{trim:!0}},R.value.attrs),$({_:2},[C(null==(s=null==(r=R.value)?void 0:r.attrs)?void 0:s.slots,((e,a)=>({name:a,fn:d((()=>[m(l,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])),[[oe,e=>function(e,a){if(t.inputDebounce){const l=(e.querySelector("input")||e.querySelector("textarea")).value;u("change",a,l)}}(e,R.value.prop),"input"]]):"select"===R.value.type?(c(),n(j,i({key:1,class:{"f-1":R.value.before||R.value.after},onChange:a[2]||(a[2]=e=>u("change",R.value.prop,e)),modelValue:o.value,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value=e)},R.value.attrs),$({default:d((()=>[(c(!0),V(k,null,C(R.value.options,((e,a)=>(c(),V(k,{key:a},[(null==e?void 0:e.customOption)?(c(),n(P,f(i({key:0},g(U)(e,["customOption"]))),{default:d((()=>[m(l,{data:e.customOption},null,8,["data"])])),_:2},1040)):(c(),n(P,f(i({key:1},e)),null,16))],64)))),128))])),_:2},[C(null==(v=null==(p=R.value)?void 0:p.attrs)?void 0:v.slots,((e,a)=>({name:a,fn:d((()=>[m(l,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])):"date-picker"===R.value.type?(c(),n(A,i({key:2,class:{"f-1":R.value.before||R.value.after},onChange:a[4]||(a[4]=e=>u("change",R.value.prop,e)),onClear:a[5]||(a[5]=e=>u("change",R.value.prop,"")),modelValue:o.value,"onUpdate:modelValue":a[6]||(a[6]=e=>o.value=e)},R.value.attrs),$({_:2},[C(null==(h=null==(b=R.value)?void 0:b.attrs)?void 0:h.slots,((e,a)=>({name:a,fn:d((()=>[m(l,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])):"radio-group"===R.value.type?(c(),n(F,i({key:3,onChange:a[7]||(a[7]=e=>u("change",R.value.prop,e)),modelValue:o.value,"onUpdate:modelValue":a[8]||(a[8]=e=>o.value=e)},R.value.attrs),{default:d((()=>{var e,a;return["button"===(null==(a=null==(e=R.value)?void 0:e.attrs)?void 0:a.type)?(c(!0),V(k,{key:0},C(R.value.options,((e,a)=>(c(),n(S,{disabled:e.disabled,value:e.value,key:a},{default:d((()=>[x(T(e.label),1)])),_:2},1032,["disabled","value"])))),128)):(c(!0),V(k,{key:1},C(R.value.options,((e,a)=>(c(),n(q,{disabled:e.disabled,value:e.value,key:a},{default:d((()=>[x(T(e.label),1)])),_:2},1032,["disabled","value"])))),128))]})),_:1},16,["modelValue"])):"checkbox-group"===R.value.type?(c(),n(G,i({key:4,onChange:a[9]||(a[9]=e=>u("change",R.value.prop,e)),modelValue:o.value,"onUpdate:modelValue":a[10]||(a[10]=e=>o.value=e)},R.value.attrs),{default:d((()=>[(c(!0),V(k,null,C(R.value.options,((e,a)=>(c(),n(Q,i({disabled:e.disabled,value:e.value},g(U)(e,["label"]),{name:R.value.prop,key:a}),{default:d((()=>[m(l,{data:e.label},null,8,["data"])])),_:2},1040,["disabled","value","name"])))),128))])),_:1},16,["modelValue"])):"input-number"===R.value.type?(c(),n(K,i({key:5,onChange:a[11]||(a[11]=e=>u("change",R.value.prop,e)),modelValue:o.value,"onUpdate:modelValue":a[12]||(a[12]=e=>o.value=e)},R.value.attrs),null,16,["modelValue"])):"switch"===R.value.type?(c(),n(Z,i({key:6,onChange:a[13]||(a[13]=e=>u("change",R.value.prop,e)),modelValue:o.value,"onUpdate:modelValue":a[14]||(a[14]=e=>o.value=e)},R.value.attrs),null,16,["modelValue"])):"cascader"===R.value.type?(c(),n(J,i({key:7,class:{"f-1":R.value.before||R.value.after},onChange:a[15]||(a[15]=e=>u("change",R.value.prop,e)),onClear:a[16]||(a[16]=e=>u("change",R.value.prop,"")),modelValue:o.value,"onUpdate:modelValue":a[17]||(a[17]=e=>o.value=e),options:R.value.options},R.value.attrs),$({_:2},[C(null==(ue=null==(z=R.value)?void 0:z.attrs)?void 0:ue.slots,((e,a)=>({name:a,fn:d((()=>[m(l,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue","options"])):"custom"===R.value.type?D(e.$slots,"custom",{key:8,field:R.value},(()=>[_("div",H," 【自定义】"+T(`${R.value.label}（${R.value.prop})`),1)]),!0):"BaseNumberRange"===R.value.type?(c(),n(X,i({key:9,class:{"f-1":R.value.before||R.value.after},onChange:a[18]||(a[18]=(e,a)=>u("change",e,a)),onClear:a[19]||(a[19]=(e,a)=>u("change",e,a)),size:e.size,modelValue:o.value,"onUpdate:modelValue":a[20]||(a[20]=e=>o.value=e)},R.value),null,16,["class","size","modelValue"])):"BaseUpload"===R.value.type?(c(),n(ee,i({key:10,onChange:a[21]||(a[21]=e=>u("change",R.value.prop,e))},R.value.attrs,{modelValue:o.value,"onUpdate:modelValue":a[22]||(a[22]=e=>o.value=e)}),null,16,["modelValue"])):"autocomplete"===R.value.type?(c(),n(ae,i({key:11,class:{"f-1":R.value.before||R.value.after},onChange:a[23]||(a[23]=e=>u("change",R.value.prop,e)),onClear:a[24]||(a[24]=e=>u("change",R.value.prop,"")),modelValue:o.value,"onUpdate:modelValue":a[25]||(a[25]=e=>o.value=e)},R.value.attrs),$({_:2},[C(null==(se=null==(re=R.value)?void 0:re.attrs)?void 0:se.slots,((e,a)=>({name:a,fn:d((()=>[m(l,{data:e},null,8,["data"])]))})))]),1040,["class","modelValue"])):"slider"===R.value.type?(c(),n(le,i({key:12,class:{"f-1":R.value.before||R.value.after},onChange:a[26]||(a[26]=e=>u("change",R.value.prop,e)),modelValue:o.value,"onUpdate:modelValue":a[27]||(a[27]=e=>o.value=e)},R.value.attrs),null,16,["class","modelValue"])):"checkbox"===R.value.type?(c(),n(Q,i({key:13,onChange:a[28]||(a[28]=e=>u("change",R.value.prop,e)),modelValue:o.value,"onUpdate:modelValue":a[29]||(a[29]=e=>o.value=e)},R.value.attrs),null,16,["modelValue"])):"empty"===R.value.type?(c(),V("div",i({key:14,class:"empty"},R.value.attrs),null,16)):(c(),V("div",L,"【不存在】"+T(R.value.type),1)),R.value.after?(c(),V("div",Y,[m(l,{data:R.value.after},null,8,["data"])])):y("",!0)],64)),R.value.tips?(c(),V("div",{key:2,class:"show-tips",innerHTML:"注："+R.value.tips},null,8,O)):y("",!0)],64))]})),_:3},16,["class"])}}}),[["__scopeId","data-v-57ea4f25"]]);export{E as default};
