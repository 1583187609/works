import{a}from"./avatar-810e7140.js";import{M as e,q as s,aR as t,aE as c,s as o,bx as l,u as r,bN as u,bH as d}from"./index-3bafcaf7.js";const p=["src"],i=d(e({__name:"UploadAvatar",props:{modelValue:{default:a},accepts:{default:()=>["image/png","image/jpeg"]},maxSize:{default:1}},emits:["update:modelValue"],setup(a,{emit:e}){const d=a,i=e,m=s({get:()=>d.modelValue,set(a){i("update:modelValue",a)}}),n=(a,e)=>{i("update:modelValue",URL.createObjectURL(e.raw))},f=a=>{const{type:e,size:s}=a,{accepts:t,maxSize:c}=d;if(!t.includes(e)){const a=t.map((a=>a.split("/")[1])).join("，");return u.error(`请上传 ${a} 格式的图片！`),!1}return!(s/1024/1024>c)||(u.error(`图片大小不能超过 ${c}MB!`),!1)};return(a,e)=>{const s=t("BaseIcon"),u=t("el-upload");return c(),o(u,{class:"upload-avatar f-c-c",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","show-file-list":!1,"on-success":n,"before-upload":f,accept:a.accepts.join(",")},{default:l((()=>[m.value?(c(),r("img",{key:0,src:m.value,class:"img"},null,8,p)):(c(),o(s,{key:1,name:"Plus",size:"32"}))])),_:1},8,["accept"])}}}),[["__scopeId","data-v-2750493b"]]);export{i as default};
