import{M as e,aM as a,q as l,cQ as d,co as t,aR as n,aE as o,s as u,bx as r,I as s,bc as m,bR as p,bN as c,bH as i}from"./index-f41eb58a.js";const f=i(e({__name:"MenuTree",props:{width:{default:500},data:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:i}){const f=e,b=i,V=a(),h=(e,a)=>2==e.menuType?"node-hide":null,v=l((()=>d(f.data,f.modelValue,"menuName"))),_=a(null),{formItem:w}=t(),N=e=>{const{id:a,menuName:l}=e,d=Number(e.menuType);1===d?(b("update:modelValue",a),null==w||w.validate("blur"),_.value.hide()):2===d?c.warning("不能选择菜单节点"):3===d&&c.warning("不能选择按钮节点")};return(e,a)=>{const l=n("el-input"),d=n("el-popover");return o(),u(d,{ref_key:"popoverRef",ref:_,placement:"bottom",width:e.width-100,trigger:"click"},{reference:r((()=>[s(l,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),placeholder:"请选择父级菜单",readonly:"",clearable:"",onClear:a[1]||(a[1]=e=>b("update:modelValue",""))},null,8,["modelValue"])])),default:r((()=>[s(m(p),{class:"menu-tree",ref_key:"treeRef",ref:V,data:e.data,props:{label:"menuName",class:h},onNodeClick:N,"expand-on-click-node":!1,"default-expand-all":""},null,8,["data","props"])])),_:1},8,["width"])}}}),[["__scopeId","data-v-820797d4"]]);export{f as default};
