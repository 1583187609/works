import{M as x,aM as p,q as N,cM as V,cx as k,aR as m,aE as g,s as w,bx as c,I as i,bc as C,bR as M,bN as f,bH as h}from"./index-95e659d0.js";const R=x({__name:"MenuTree",props:{width:{default:500},data:{},modelValue:{}},emits:["update:modelValue"],setup(_,{emit:v}){const t=_,l=v,b=p(),y=(e,a)=>e.menuType==2?"node-hide":null,s=N(()=>V(t.data,t.modelValue,"menuName")),r=p(null),{formItem:n}=k(),T=e=>{const{id:a,menuName:u}=e,o=Number(e.menuType);o===1?(l("update:modelValue",a),n==null||n.validate("blur"),r.value.hide()):o===2?f.warning("不能选择菜单节点"):o===3&&f.warning("不能选择按钮节点")};return(e,a)=>{const u=m("el-input"),o=m("el-popover");return g(),w(o,{ref_key:"popoverRef",ref:r,placement:"bottom",width:e.width-100,trigger:"click"},{reference:c(()=>[i(u,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=d=>s.value=d),placeholder:"请选择父级菜单",readonly:"",clearable:"",onClear:a[1]||(a[1]=d=>l("update:modelValue",""))},null,8,["modelValue"])]),default:c(()=>[i(C(M),{class:"menu-tree",ref_key:"treeRef",ref:b,data:e.data,props:{label:"menuName",class:y},onNodeClick:T,"expand-on-click-node":!1,"default-expand-all":""},null,8,["data","props"])]),_:1},8,["width"])}}});const E=h(R,[["__scopeId","data-v-820797d4"]]);export{E as default};
