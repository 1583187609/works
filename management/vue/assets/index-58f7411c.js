import"./index-1a9ed3b5.js";import{b as y,D as k}from"./auth-107d8eaa.js";import{_ as x}from"./AddEdit.vue_vue_type_script_setup_true_lang-bb9715c9.js";import{u as E}from"./all-tags-eaeb4056.js";import{ay as c}from"./index-79ac556c.js";import{q as C,Q as S,r as m,a6 as d,t as s,D as u,E as T,v,F as A,J as D,u as M}from"./runtime-core.esm-bundler-95bf9971.js";import"./common-f4827de9.js";import"./index-a0dfeff6.js";import"./IconPicker-9741e813.js";import"./index-4a03ead4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./MenuTree-6f12b9d1.js";import"./use-form-item-f859f9c0.js";import"./index-54c669c3.js";import"./storage-f5c2149e.js";import"./pinia-680d6f3f.js";const R=C({__name:"index",setup(W){const f=S("openPopup"),{getOpts:n}=E(),_=n("Enable"),l=n("YesNoStatus");n("MenuType");const b=m([{prop:"name",label:"菜单名称"},{prop:"is_out_link",label:"是否外链",type:"select",options:l},{prop:"status",label:"状态",type:"select",options:_},{prop:"is_cache",label:"是否缓存",type:"select",options:l},{prop:"create_time_range",label:"创建时间",type:"date-picker"}]),h=m([{prop:"name",label:"名称",minWidth:220,align:"left"},{prop:"type_text",label:"类型",minWidth:60},{prop:"icon",label:"图标",width:60,type:"custom"},{prop:"order",label:"排序",width:60},{prop:"perms",label:"权限标识",width:180},{prop:"menu_path",label:"菜单路径",minWidth:300},{prop:"component_path",label:"组件路径",minWidth:300},{prop:"status",label:"状态",type:"BaseTag"},{prop:"remark",label:"备注"},{prop:"create_time",label:"创建时间"},{prop:"update_time",label:"创建时间"}]);function B(e,t,o){const p={add:()=>i(null,o),delete:()=>r(t,o)};p[e]?p[e]():c(`点击了${e}按钮`)}function g(e,t,o){const p={edit:()=>i(t,o),delete:()=>r([t.id],o),forbid:()=>void 0,enable:()=>void 0};p[e]?p[e]():c(`点击了${e}按钮`)}function i(e,t){f(`${e?"编辑":"新增"}菜单`,{component:x,attrs:{id:e==null?void 0:e.id,refreshList:t}})}function r(e,t){k({ids:e}).then(o=>{t()})}function $(e,t){}return(e,t)=>{const o=d("BaseIcon"),p=d("BaseCrud");return s(),u(p,{cols:h.value,fields:b.value,fetch:M(y),extraBtns:["add","delete"],groupBtns:["edit","delete",a=>a.status===1?"forbid":"enable"],pagination:!1,onExtraBtn:B,onGroupBtn:g,selection:""},{icon:T(({row:a})=>[a.icon?(s(),u(o,{key:0,name:a.icon,size:"22"},null,8,["name"])):(s(),v(A,{key:1},[D("-")],64))]),_:1},8,["cols","fields","fetch","groupBtns"])}}});export{R as default};
