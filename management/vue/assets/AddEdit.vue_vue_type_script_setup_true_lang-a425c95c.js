import"./index-1a9ed3b5.js";import{a as x,b as h,c as U,d as g}from"./user-760da63c.js";import{u as q}from"./all-tags-eaeb4056.js";import{U as v}from"./UploadAvatar-ed051a4e.js";import{q as T,O as V,r as O,a6 as S,t as A,D as B,E as _,L as k,u as a,k as w,A as C}from"./runtime-core.esm-bundler-95bf9971.js";const j=T({__name:"AddEdit",props:{id:{},pureText:{type:Boolean},refreshList:{}},setup(l){const{getOpts:r}=q(),n=r("Sex"),u=r("UserType"),d=r("Enable"),i=r("address"),m=l,{id:p}=m;let e=V({sex:0,status:1});const c=O([{prop:"avatar",label:"头像",required:!1,type:"custom"},{prop:"nickname",label:"昵称",required:!1,attrs:{maxlength:16}},{prop:"name",label:"姓名",attrs:{maxlength:6}},{prop:"sex",label:"性别",type:"radio-group",options:n,attrs:{type:"button"}},{prop:"age",label:"年龄",type:"input-number",attrs:{min:0,max:150}},{prop:"type",label:"类型",type:"select",required:!1,options:u},{prop:"status",label:"状态",type:"radio-group",required:!1,options:d,attrs:{type:"button"}},{prop:"address",label:"地址",required:!1,type:"cascader",attrs:{style:"width: 100%",options:i}},{prop:"phone",label:"电话",required:!0,valid:"phone"}]);p&&f(p);function f(t){x({id:t}).then(o=>{Object.assign(e,o)})}return(t,o)=>{const b=S("BaseForm");return A(),B(b,{request:a(h),modelValue:a(e),"onUpdate:modelValue":o[0]||(o[0]=s=>w(e)?e.value=s:e=s),style:C({width:t.pureText?"350px":"500px"}),fields:c.value,pureText:t.pureText,fetch:a(p)?a(U):a(g),fetchSuccess:t.refreshList},{avatar:_(({form:s})=>[k(v,{modelValue:s.avatar,"onUpdate:modelValue":y=>s.avatar=y},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["request","modelValue","style","fields","pureText","fetch","fetchSuccess"])}}});export{j as _};
