import{M as a,cp as e,aM as l,bs as s,aR as u,aS as o,aE as n,u as t,F as d,aP as i,s as c,bx as m,H as f,b3 as p,bz as r,bc as v,cs as b,t as y,bN as g,an as V,bH as k}from"./index-050c1617.js";const _={class:"add-del-tag f-fs-fs-w"},x=k(a({__name:"AddDelTag",props:{modelValue:{default:()=>[]},maxNum:{default:10}},emits:["update:modelValue"],setup(a,{emit:k}){const x=a,N=k,{formItem:h}=e(),z=l(),C=l(""),S=l(x.modelValue),w=l(!1);function H(){if(""!==C.value){if(S.value.find((a=>a===C.value)))return g.warning(C.value+"已添加"),void V((()=>{z.value.focus()}));S.value.push(C.value),w.value=!1,C.value=""}else w.value=!1}return s(S,(a=>{N("update:modelValue",JSON.parse(JSON.stringify(a))),null==h||h.validate("change")}),{deep:!0}),(a,e)=>{const l=u("el-tag"),s=u("el-input"),g=u("el-button"),V=o("focus");return n(),t("div",_,[(n(!0),t(d,null,i(S.value,((a,e)=>(n(),c(l,{class:"m-2",onClose:a=>function(a,e){S.value.splice(e,1)}(0,e),key:a,closable:""},{default:m((()=>[f(p(a),1)])),_:2},1032,["onClose"])))),128)),S.value.length<a.maxNum?(n(),t(d,{key:0},[w.value?r((n(),c(s,{key:0,class:"inp m-2",size:"small",closable:"",placeholder:"请输入",autofocus:"",clearable:"",modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=a=>C.value=a),onBlur:H,ref_key:"inpRef",ref:z},null,8,["modelValue"])),[[V]]):(n(),c(g,{key:1,class:"m-2",icon:v(b),size:"small",type:"primary",plain:"",onClick:e[1]||(e[1]=a=>w.value=!0)},null,8,["icon"]))],64)):y("",!0)])}}}),[["__scopeId","data-v-493a9424"]]);export{x as default};
