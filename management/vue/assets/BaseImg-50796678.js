import{M as e,bJ as s,q as a,aR as i,aE as t,s as r,bx as o,v as l,I as c,b3 as n,H as p,ao as d,u,t as m,am as f,bc as g,cn as v,bH as h}from"./index-f41eb58a.js";const y=""+new URL("img-58556f8d.png",import.meta.url).href,I={class:"err-box f-c-c-c"},z={class:"tips"},b={key:1,class:"err-box f-c-c-c"},w={key:0,class:"tips"},x=h(e({__name:"BaseImg",props:{size:{},sizeType:{default:"default"},width:{},height:{},src:{},fit:{default:"cover"},round:{type:Boolean},to:{},initialIndex:{},zoomRate:{},stopPropagation:{type:Boolean},preview:{type:Boolean,default:e=>void 0===e.to},loadTips:{default:"玩命加载中…"},errTips:{default:"加载失败"},errImgSrc:{}},emits:["click","error"],setup(e,{emit:h}){const x={large:26,default:22,small:18},T=s(),k=e,B=h,_=a((()=>k.preview?{previewSrcList:[k.src]}:{})),P=a((()=>({height:v(k.size||k.height),width:v(k.size||k.width)})));function S(e){const{preview:s,to:a,stopPropagation:i}=k;a?T.push(a):B("click"),i&&e.stopImmediatePropagation()}return(e,s)=>{const a=i("BaseIcon"),v=i("el-image");return t(),r(v,f({onClick:S,class:["base-img",{round:e.round,to:!!e.to,empty:!e.src}],src:e.src||g(y),fit:e.fit,style:P.value,initialIndex:e.initialIndex},_.value,{"preview-teleported":"","hide-on-click-modal":""}),{placeholder:o((()=>[l("div",I,[c(a,{class:"rotate",size:x[e.sizeType],name:"Loading"},null,8,["size"]),l("span",z,n(e.loadTips),1)])])),error:o((()=>[l("template",null,[p(n(B("error")),1)]),e.errImgSrc?(t(),r(v,{key:0,class:d(["base-img",{round:e.round}]),src:e.errImgSrc,fit:e.fit,"preview-teleported":""},null,8,["class","src","fit"])):(t(),u("div",b,[c(a,{size:x[e.sizeType],name:"Picture"},null,8,["size"]),e.errTips?(t(),u("span",w,n(e.errTips),1)):m("",!0)]))])),_:1},16,["class","src","fit","style","initialIndex"])}}}),[["__scopeId","data-v-43e2b88e"]]);export{x as default};
