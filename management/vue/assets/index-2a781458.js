import{M as z,bO as D,bI as F,aa as U,aK as $,aM as j,aR as u,aE as o,u as l,I as i,bx as n,H as c,F as b,aP as w,s as k,t as y,b3 as H,bc as _,af as W,cS as G,cT as K,bN as I,cR as Y,bH as J}from"./index-0bf49a0e.js";import{f as g}from"./auth-b63f6a40.js";import{_ as Q}from"./AddEdit.vue_vue_type_script_setup_true_lang-01e52d2a.js";import{I as X,A as Z,u as ee}from"./AuthInfo-d93c3d15.js";const te={class:"page-view three f-sb-s"},ae={key:0,class:"f-c-c-c"},se={key:1},oe=z({__name:"index",setup(ne){const{getOpts:h,getText:le}=D(),R=F(),{type:C}=R.query,p=C==="simple",{getSearchOpts:x}=ee(),E=h("UserType"),S=h("Enable"),T=U("openPopup");let d=$({xm:"张三",dbq:[0],date:["2023-08-19","2023-08-27"],date_min:"2023-07-19",date_max:"2023-07-27",min_num:1,max_num:2,num_def:[10,20]});const N=j([{prop:"xm",label:"姓名"},{prop:"qyzt",label:"启用状态",type:"select",options:S},{prop:"dbq",label:"多标签",type:"select",options:E,attrs:{multiple:!0}},{prop:"times",label:"时间(数组)",type:"date-picker"},{prop:["date_min","date_max"],label:"时间(对象)",type:"date-picker"},{prop:"date",label:"时间(带值)",type:"date-picker"},{prop:["min_num","max_num"],label:"数字(对象)",type:"BaseNumberRange"},{prop:"numRange",label:"数字(数组)",type:"BaseNumberRange"},{prop:"num_def",label:"数字(默值)",type:"BaseNumberRange"},{prop:"liveCity",label:"级联",type:"cascader"},x("school",{prop:"schoolId",label:"学校",popover:"采用hooks封装复杂逻辑"}),x("company",{prop:"companyId",label:"公司",popover:"自定义选择下拉项"}),{prop:"zdy",label:"自定义",type:"custom",popover:"在搜索表单中一般几乎用不到自定义特性"}]),M=[{label:"内置自定义组件列",type:"UserInfo",attrs:{simple:p}},{prop:"form_col",label:"formatter列",minWidth:140,formatter(t){return"formatter格式化示例"}},!p&&{prop:"info_complete",label:"非内置自定义组件列",width:170,type:"custom"},p?{prop:"is_proxy",label:"标签(自定义，simple可见)",width:220,type:"custom"}:{prop:"agentId",label:"标签(内置，非simple可见)",width:220,type:"BaseTag",attrs:{name:"Enable"}},!p&&{prop:"create_time",label:"时间（内置宽度）"},...p?[{type:"create",label:"创建时间（内置）"}]:[{type:"create",label:"创建时间（内置、单prop）",minWidth:200}],{prop:"status",label:"是否启用",type:"switch",attrs:{}},{type:"remark",label:"备注（内置）"}];function P(t,a,s,r,f){const m={add:()=>v(null,s),export:()=>V(f)};m[t]?m[t]():I.warning(`点击了${t}按钮`)}function q(t,a,s){const r={edit:()=>v(a,s),delete:()=>O(a.id,s),forbid:()=>B(a.id,s),enable:()=>B(a.id,s)};r[t]?r[t]():I.warning(`点击了${t}按钮`)}async function v(t,a){t&&(t={xm:"李四",xb:2,nl:26,dhhm:"18483221518",jgnr:"这是警告内容"}),T(`${t?"编辑":"新增"}`,{component:Q,attrs:{data:t,refreshList:a}})}function O(t,a){g({id:t}).then(s=>a())}function B(t,a){g().then(s=>{a()})}function V(t){Y(t)}return(t,a)=>{const s=u("BaseTag"),r=u("BaseIcon"),f=u("el-tag"),m=u("BaseCrud");return o(),l("div",te,[i(m,{class:"f-3",modelValue:_(d),"onUpdate:modelValue":a[0]||(a[0]=e=>W(d)?d.value=e:d=e),cols:M,fields:N.value,fetch:_(g),extraBtns:["add","export",{name:"zdy",text:"自定义按钮",attrs:{type:"primary",icon:_(G)}}],groupBtns:["edit","delete",e=>e.$index%2===1?"forbid":"enable",{name:"view",to:e=>({name:"userDetail",query:{id:e.id}})}],onExtraBtn:P,onGroupBtn:q,colSpanAttrs:{xs:12,sm:12,md:12,lg:8,xl:6},handleParams:e=>_(K)(e,"liveCity"),isCompact:"",selection:""},{zdy:n(()=>[c("【这是自定义的搜索条件项】")]),info_complete:n(({row:e})=>[i(X,{data:e},null,8,["data"])]),info_status:n(({row:e})=>[c(" 这是自定义组件 - 信息状态 ")]),auth_info:n(({row:e})=>[i(Z,{data:e},null,8,["data"])]),relation_tag:n(({row:e})=>[(o(!0),l(b,null,w(e.relationTag,(A,L)=>(o(),k(s,{name:"User",class:"mb-q",value:A.tagCode,key:L},null,8,["value"]))),128)),e.relationTag.length?y("",!0):(o(),l(b,{key:0},[c("-")],64))]),is_proxy:n(({row:e})=>[i(s,{name:"YesNo",value:e.agentId===0?1:0},null,8,["value"])]),business:n(({row:e})=>[e.vipLevel===1||e.rechargeMoney?(o(),l("div",ae,[e.vipLevel===1?(o(),k(f,{key:0,type:"warning",effect:"dark"},{default:n(()=>[i(r,{name:"StarFilled"}),c(" 脱单特权 ")]),_:1})):y("",!0),e.rechargeMoney?(o(),l("div",se,"RMB充值："+H(e.rechargeMoney)+"元",1)):y("",!0)])):(o(),l(b,{key:1},[c("-")],64))]),_:1},8,["modelValue","fields","fetch","extraBtns","groupBtns","handleParams"])])}}});const de=J(oe,[["__scopeId","data-v-ff8ac064"]]);export{de as default};
