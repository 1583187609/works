import{M as N,aM as p,q as V,cL as k,cw as w,aR as m,aE as x,s as g,bx as c,I as i,bc as C,bR as h,bN as f,bH as M}from"./index-8b36bd1b.js";const R=N({__name:"MenuTree",props:{width:{default:500},data:{},modelValue:{}},emits:["update:modelValue"],setup(_,{emit:v}){const t=_,l=v,b=p(),y=(e,a)=>e.menuType==2?"node-hide":null,s=V(()=>k(t.data,t.modelValue,"menuName")),r=p(null),{formItem:n}=w(),T=e=>{const{id:a,menuName:u}=e,o=Number(e.menuType);o===1?(l("update:modelValue",a),n==null||n.validate("blur"),r.value.hide()):o===2?f.warning("不能选择菜单节点"):o===3&&f.warning("不能选择按钮节点")};return(e,a)=>{const u=m("el-input"),o=m("el-popover");return x(),g(o,{ref_key:"popoverRef",ref:r,placement:"bottom",width:e.width-100,trigger:"click"},{reference:c(()=>[i(u,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=d=>s.value=d),placeholder:"请选择父级菜单",readonly:"",clearable:"",onClear:a[1]||(a[1]=d=>l("update:modelValue",""))},null,8,["modelValue"])]),default:c(()=>[i(C(h),{class:"menu-tree",ref_key:"treeRef",ref:b,data:e.data,props:{label:"menuName",class:y},onNodeClick:T,"expand-on-click-node":!1,"default-expand-all":""},null,8,["data","props"])]),_:1},8,["width"])}}});const E=M(R,[["__scopeId","data-v-820797d4"]]);export{E as default};
