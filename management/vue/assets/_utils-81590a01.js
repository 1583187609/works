import{c3 as b,cB as M,cC as x,cc as $,bZ as V,ci as w,bN as A,bW as N,cm as k}from"./index-0bf49a0e.js";import{g as H}from"./index-2f1ff7f6.js";const U=["delete","export","pass","reject","repeal","enable","forbid","download"],W=[void 0,"index","id","create","update","remark"];function J({btnObj:s,cols:e,seledRows:t,seledKeys:r,total:n,exportLimit:i,emits:o,next:c}){const{name:l="",text:d,attrs:p,customRules:C}=s,f=(p==null?void 0:p.type)||"primary",F=`color${V.upperFirst(f)}`,g=w[F];if(U.includes(l)&&!C){const O=t.length===n,T=t.length>i;if(["export"].includes(l)&&T)A.warning({message:`单次${d}不能超过 <b>${i}</b> 条，请缩小查询范围！`,dangerouslyUseHTMLString:!0});else{const j=`确定 <b style="color:${g};">${d}${O?"全部</b> ":"</b>"} 共 <b style="color:${g};">${t.length}</b> 条记录？`;N.confirm(j,"温馨提示",{type:l==="delete"?"error":"warning",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:`el-button--${f}`,cancelButtonClass:`el-button--${f} is-plain`,draggable:!0}).then(()=>{const m=[];if(l==="export"){const h=(e==null?void 0:e.filter(a=>{var u;return b(a)!=="Object"?!1:!((u=a==null?void 0:a.prop)!=null&&u.startsWith("$"))}))||[];m.push(h.map(a=>a.label)),t.forEach(a=>{const u=[];h.forEach(E=>{const{prop:L,type:S,formatter:y}=E;let B="";W.includes(S)&&(B=y?y(a):a[L]??""),u.push(B)}),m.push(u)})}o("extraBtn",l,r,c,t,m)}).catch(()=>{})}}else o("extraBtn",l,[],c,[],[])}function K(s,e){var n,i;const{groupBtns:t,cols:r=[]}=e;return s==="operate"?t&&((i=(n=r.slice(-1))==null?void 0:n[0])==null?void 0:i.type)!=="operate":e[s]&&!r.find(c=>c.type===s)}function P(s,e){const{attrs:t,type:r=k,options:n=[]}=s;return r==="cascader"?b(e)==="Array"?M(n,e):x(n,e):r==="select"?t!=null&&t.multiple?n.filter(o=>e.includes(o.value)).map(o=>o.label).join("、"):x(n,e):r==="BaseNumberRange"?e==null?void 0:e.join($):r==="date-picker"?e==null?void 0:e.join($):e}function Q(s,e,t){var o;const n=b(t)==="Function"?t(s,e):t;return((o=n==null?void 0:n.map(c=>H(c,s)))==null?void 0:o.filter(c=>!!c.name))??[]}export{Q as a,U as b,P as g,J as h,K as n};
