import{M as e,aa as t,bO as a,aM as o,aR as p,aE as s,s as n,bx as l,u as i,F as r,H as d,bc as c,bQ as u}from"./index-050c1617.js";import{b,D as m}from"./auth-ce3fa9ed.js";import{_}from"./AddEdit.vue_vue_type_script_setup_true_lang-3a311986.js";import"./IconPicker-e59d4aba.js";import"./MenuTree-44759bbc.js";const f=e({__name:"index",setup(e){const f=t("openPopup"),{getOpts:h}=a(),y=h("Enable"),g=h("YesNoStatus");h("MenuType");const B=o([{prop:"name",label:"菜单名称"},{prop:"is_out_link",label:"是否外链",type:"select",options:g},{prop:"status",label:"状态",type:"select",options:y},{prop:"is_cache",label:"是否缓存",type:"select",options:g},{prop:"create_time_range",label:"创建时间",type:"date-picker"}]),x=o([{prop:"name",label:"名称",minWidth:220,align:"left"},{prop:"type_text",label:"类型",minWidth:60},{prop:"icon",label:"图标",width:60,type:"custom"},{prop:"order",label:"排序",width:60},{prop:"perms",label:"权限标识",width:180},{prop:"menu_path",label:"菜单路径",minWidth:300},{prop:"component_path",label:"组件路径",minWidth:300},{prop:"status",label:"状态",type:"BaseTag"},{prop:"remark",label:"备注"},{prop:"create_time",label:"创建时间"},{prop:"update_time",label:"创建时间"}]);function k(e,t,a){u({add:()=>v(null,a),delete:()=>w(t,a)},e)}function j(e,t,a){u({edit:()=>v(t,a),delete:()=>w([t.id],a),forbid:()=>{},enable:()=>{}},e)}function v(e,t){f((e?"编辑":"新增")+"菜单",{component:_,attrs:{id:null==e?void 0:e.id,refreshList:t}})}function w(e,t){m({ids:e}).then((e=>{t()}))}return(e,t)=>{const a=p("BaseIcon"),o=p("BaseCrud");return s(),n(o,{cols:x.value,fields:B.value,fetch:c(b),extraBtns:["add","delete"],groupBtns:["edit","delete",e=>1===e.status?"forbid":"enable"],pagination:!1,onExtraBtn:k,onGroupBtn:j,selection:""},{icon:l((({row:e})=>[e.icon?(s(),n(a,{key:0,name:e.icon,size:"22"},null,8,["name"])):(s(),i(r,{key:1},[d("-")],64))])),_:1},8,["cols","fields","fetch","groupBtns"])}}});export{f as default};
