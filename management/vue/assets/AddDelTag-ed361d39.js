import{M as D,co as N,aM as u,bs as w,aR as r,aS as T,aE as n,u as d,F as m,aP as A,s as i,bx as B,H as S,b3 as z,bz as E,bc as F,cL as M,t as R,bN as H,an as I,bH as J}from"./index-346f95fe.js";const L={class:"add-del-tag f-fs-fs-w"},O=D({__name:"AddDelTag",props:{modelValue:{default:()=>[]},maxNum:{default:10}},emits:["update:modelValue"],setup(f,{emit:_}){const v=f,g=_,{formItem:c}=N(),p=u(),e=u(""),a=u(v.modelValue),o=u(!1);w(a,l=>{g("update:modelValue",JSON.parse(JSON.stringify(l))),c==null||c.validate("change")},{deep:!0});function b(l,s){a.value.splice(s,1)}function y(){if(e.value===""){o.value=!1;return}if(a.value.find(l=>l===e.value)){H.warning(e.value+"已添加"),I(()=>{p.value.focus()});return}a.value.push(e.value),o.value=!1,e.value=""}return(l,s)=>{const k=r("el-tag"),V=r("el-input"),x=r("el-button"),h=T("focus");return n(),d("div",L,[(n(!0),d(m,null,A(a.value,(t,C)=>(n(),i(k,{class:"m-2",onClose:$=>b(t,C),key:t,closable:""},{default:B(()=>[S(z(t),1)]),_:2},1032,["onClose"]))),128)),a.value.length<l.maxNum?(n(),d(m,{key:0},[o.value?E((n(),i(V,{key:0,class:"inp m-2",size:"small",closable:"",placeholder:"请输入",autofocus:"",clearable:"",modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value=t),onBlur:y,ref_key:"inpRef",ref:p},null,8,["modelValue"])),[[h]]):(n(),i(x,{key:1,class:"m-2",icon:F(M),size:"small",type:"primary",plain:"",onClick:s[1]||(s[1]=t=>o.value=!0)},null,8,["icon"]))],64)):R("",!0)])}}});const U=J(O,[["__scopeId","data-v-493a9424"]]);export{U as default};
